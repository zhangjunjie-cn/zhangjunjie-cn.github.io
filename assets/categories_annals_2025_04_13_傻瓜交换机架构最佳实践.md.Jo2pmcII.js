import{_ as b}from"./chunks/ArticleGPT.Bb1dTucW.js";import{_ as u}from"./chunks/ArticleMetadata.D_IfFL7L.js";import{_ as m,P as e,z as B,A as n,B as A,G as a,ap as l,O as h,b as t,Q as i,S as C,aG as p}from"./chunks/framework.DfjUQpHG.js";import"./chunks/index.Deh-lfQt.js";import"./chunks/theme.Dc4MCUcl.js";import"./chunks/dayjs.min.BY7vXWf5.js";const w=JSON.parse('{"title":"交换机架构最佳实践","description":"","frontmatter":{"date":"2025/04/13 16:21","isTop":false,"title":"交换机架构最佳实践","author":"张俊杰","articleGPT":"这是一篇关于交换机架构最佳实践的文章，内容包括交换机的基本概念、常见的交换机类型、交换机的配置和管理等方面，并通过实际案例展示了交换机的使用方法和注意事项。","categories":["博客"],"tags":["交换机"]},"headers":[],"relativePath":"categories/annals/2025/04/13/傻瓜交换机架构最佳实践.md","filePath":"categories/annals/2025/04/13/傻瓜交换机架构最佳实践.md","lastUpdated":1744556240000}'),E={name:"categories/annals/2025/04/13/傻瓜交换机架构最佳实践.md"};function f(r,s,v,P,N,S){const g=u,y=e("ClientOnly"),D=b,k=e("Mermaid"),c=e("NolebaseGitContributors"),o=e("NolebaseGitChangelog");return n(),B("div",null,[s[5]||(s[5]=A("h1",{id:"傻瓜型交换机架构最佳实践",tabindex:"-1"},[t("傻瓜型交换机架构最佳实践 "),A("a",{class:"header-anchor",href:"#傻瓜型交换机架构最佳实践","aria-label":'Permalink to "傻瓜型交换机架构最佳实践"'},"​")],-1)),a(y,null,{default:i(()=>{var F,d;return[(((F=r.$frontmatter)==null?void 0:F.aside)??!0)&&(((d=r.$frontmatter)==null?void 0:d.showArticleMetadata)??!0)?(n(),h(g,{key:0,article:r.$frontmatter},null,8,["article"])):C("",!0)]}),_:1}),a(D),s[6]||(s[6]=l(`<h2 id="_1-交换机的第一步" tabindex="-1">1. 交换机的第一步 <a class="header-anchor" href="#_1-交换机的第一步" aria-label="Permalink to &quot;1. 交换机的第一步&quot;">​</a></h2><p>首先在Windows的设备管理器找到USB连接到交换机的端口，再用XShell连接到交换机的console口，输入密码登录，进入系统视图，修改交换机的名称，退出系统视图，保存配置，退出。</p><figure><img src="https://gitee.com/zhangjunjiee/article-images/raw/master/images/PixPin_2025-04-06_15-24-16.png" alt="查看USB端口连接是否成功" tabindex="0"><figcaption>查看USB端口连接是否成功</figcaption></figure><ul><li>查看交换机连接是否成功。</li></ul><figure><img src="https://gitee.com/zhangjunjiee/article-images/raw/master/images/PixPin_2025-04-06_15-27-02.png" alt="连接的端口号" tabindex="0"><figcaption>连接的端口号</figcaption></figure><ul><li>配置XShell连接的端口号和协议</li></ul><figure><img src="https://gitee.com/zhangjunjiee/article-images/raw/master/images/PixPin_2025-04-06_15-28-37.png" alt="设置波特率" tabindex="0"><figcaption>设置波特率</figcaption></figure><figure><img src="https://gitee.com/zhangjunjiee/article-images/raw/master/images/PixPin_2025-04-06_15-30-20.png" alt="首次进入交换机配置密码" tabindex="0"><figcaption>首次进入交换机配置密码</figcaption></figure><ul><li>进入控制终端</li></ul><blockquote><p>第一次通过console口连接交换机会提示你设置密码，密码为ha123456</p></blockquote><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes one-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 现在我们来配置命令</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">Huawei</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;"> system-view  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 进入系统视图</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[Huawei] sysname SW1  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 修改设备名称（可选）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><figure><img src="https://gitee.com/zhangjunjiee/article-images/raw/master/images/PixPin_2025-04-06_15-44-00.png" alt="日志输出" tabindex="0"><figcaption>日志输出</figcaption></figure><blockquote><p>这串英文是 <strong>华为交换机的系统日志（Syslog）消息</strong>，用于记录配置变更事件。以下是详细解析：</p></blockquote><h3 id="📊-日志内容分解" tabindex="-1">📊 日志内容分解 <a class="header-anchor" href="#📊-日志内容分解" aria-label="Permalink to &quot;📊 日志内容分解&quot;">​</a></h3><table tabindex="0"><thead><tr><th>字段</th><th>含义</th></tr></thead><tbody><tr><td><code>Jan 1 2008 00:33:42-05:13</code></td><td><strong>时间戳</strong>：交换机的默认时间（未同步NTP时可能显示初始日期2008年）。</td></tr><tr><td><code>SW1</code></td><td><strong>设备名称</strong>：你通过 <code>sysname SW1</code> 修改后的交换机名称。</td></tr><tr><td><code>DS/4/DATASYNC_CFGCHANGE</code></td><td><strong>日志类型</strong>：<br> - <code>DS</code>：DataSync（数据同步模块）。<br> - <code>4</code>：日志级别（4=Warning，属于正常提示）。<br> - <code>DATASYNC_CFGCHANGE</code>：配置变更事件。</td></tr><tr><td><code>OID 1.3.6.1.4.1.2011.5.25.191.3.1</code></td><td><strong>SNMP对象标识符</strong>：华为私有MIB节点，标识配置变更的具体类型。</td></tr><tr><td><code>configurations have been changed</code></td><td><strong>事件描述</strong>：配置已发生变更。</td></tr><tr><td><code>change number=1, loop count=1, max records=1</code></td><td><strong>变更详情</strong>：<br> - 当前变更序号为1。<br> - 变更循环计数为1。<br> - 最大记录数为1。</td></tr></tbody></table><hr><h3 id="🔀-交换机ntp" tabindex="-1">🔀 交换机NTP <a class="header-anchor" href="#🔀-交换机ntp" aria-label="Permalink to &quot;🔀 交换机NTP&quot;">​</a></h3><ul><li><p><strong>正常现象</strong>：这是华为交换机的标准行为，无需干预。</p></li><li><p><strong>若需关闭此类日志</strong>（不推荐）：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1] info-center source DS channel 0 log state off  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 关闭DS模块日志</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong>建议操作</strong>：<br> 同步交换机时间（NTP）以获取准确日志时间戳：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1] ntp-service unicast-server 192.168.1.1  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 配置NTP服务器</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><hr><h2 id="_2-配置管理ip-用于远程ssh-telnet" tabindex="-1">2. 配置管理IP（用于远程SSH/Telnet) <a class="header-anchor" href="#_2-配置管理ip-用于远程ssh-telnet" aria-label="Permalink to &quot;2. 配置管理IP（用于远程SSH/Telnet)&quot;">​</a></h2><p>查看同一局域网电脑的IP地址，配置交换机的管理IP地址，配置管理IP地址的命令如下：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">以太网适配器</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 以太网:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   连接特定的</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> DNS</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 后缀</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   描述.</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> ASIX</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> AX88772C</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> USB2.0</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> Fast</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> Ethernet</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> Adapter</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   物理地址.</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 2C-16-DB-A6-9D-47</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   DHCP</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 已启用</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 是</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   自动配置已启用.</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 是</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   IPv6</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 地址</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 240e:331:3102:5900:4b8d:bd9d:4bbf:c6e3</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">首选</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   临时</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> IPv6</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 地址.</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 240e:331:3102:5900:257f:78f3:3ac2:fb1d</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">首选</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   本地链接</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> IPv6</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 地址.</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> fe80::c610:79cb:e283:5f6c%51</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">首选</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   IPv4</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 地址</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;"> 192.168.1.6</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">首选</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   子网掩码</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;"> 255.255.255.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   获得租约的时间</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 2025年4月6日</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 15:12:40</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   租约过期的时间</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 2025年4月7日</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 15:12:39</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   默认网关.</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> fe80::1%51</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">                                       192.168.1.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   DHCP</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 服务器</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;"> 192.168.1.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   DHCPv6</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> IAID</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;"> 858527451</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   DHCPv6</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 客户端</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> DUID</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 00-01-00-01-2F-22-9A-61-38-BA-F8-89-15-43</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   DNS</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 服务器</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> fe80::1%51</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">                                       192.168.1.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">                                       fe80::1%51</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">   TCPIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 上的</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> NetBIOS</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 已启用</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><ul><li>配置同段的交换机虚拟地址</li></ul><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1] interface vlanif 1  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 进入VLAN 1接口（默认管理VLAN）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1-Vlanif1] ip address 192.168.1.100 24  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 设置IP和子网掩码</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1-Vlanif1] quit</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><figure><img src="https://gitee.com/zhangjunjiee/article-images/raw/master/images/PixPin_2025-04-06_16-25-47.png" alt="配置汇聚IP地址" tabindex="0"><figcaption>配置汇聚IP地址</figcaption></figure><h2 id="_3-配置ssh-推荐-加密" tabindex="-1">3. 配置SSH（推荐，加密） <a class="header-anchor" href="#_3-配置ssh-推荐-加密" aria-label="Permalink to &quot;3. 配置SSH（推荐，加密）&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1] rsa local-key-pair create  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 生成RSA密钥</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1] user-interface vty 0 4</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1-ui-vty0-4] authentication-mode aaa  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 启用AAA认证</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1-ui-vty0-4] protocol inbound ssh  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 仅允许SSH</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1-ui-vty0-4] quit</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1] aaa  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 进入AAA视图</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1-aaa] local-user admin password cipher Huawei@123  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 创建用户</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1-aaa] local-user admin privilege level 15  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 设置权限等级（15为最高）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1-aaa] local-user admin service-type ssh  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 允许SSH登录</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1-aaa] quit</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[SW1] stelnet server enable  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 启用SSH服务</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>📌 使用SSH客户端（如PuTTY）连接交换机IP。</p></blockquote><h3 id="如何通过ssh登录" tabindex="-1">如何通过ssh登录 <a class="header-anchor" href="#如何通过ssh登录" aria-label="Permalink to &quot;如何通过ssh登录&quot;">​</a></h3><p>略...</p><h2 id="_4-错误的交换机布局" tabindex="-1">4.错误的交换机布局 <a class="header-anchor" href="#_4-错误的交换机布局" aria-label="Permalink to &quot;4.错误的交换机布局&quot;">​</a></h2><p>如果你随便拿一个没有清空配置的交换来做实验，可能会出现以下问题：</p>`,32)),(n(),h(p,null,{default:i(()=>[a(k,{id:"mermaid-186",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20%25%25%20%E8%AE%BE%E5%A4%87%E5%AE%9A%E4%B9%89%0A%20%20%20%20A%5B%22%E4%B8%8A%E7%BA%A7%E4%BA%A4%E6%8D%A2%E6%9C%BA%3Cbr%3EPort1%3A%20Access%20VLAN%201%22%5D%20--%3E%7CPVID%3D1%7C%20B%5B(%22%E4%BD%A0%E7%9A%84%E4%BA%A4%E6%8D%A2%E6%9C%BA%3Cbr%3EPort1%3A%20Access%20VLAN%2010%22)%5D%0A%20%20%20%20B%20--%3E%7CPort10%20%7C%20C%5B%5B%22%E6%88%91%E7%9A%84%E7%AC%94%E8%AE%B0%E6%9C%AC%20VLAN%201%22%5D%5D%0A%20%20%20%20%0A%20%20%20%20%25%25%20%E6%A0%B7%E5%BC%8F%E8%AE%BE%E7%BD%AE%0A%20%20%20%20style%20A%20fill%3A%23f9d5e5%2Cstroke%3A%23333%0A%20%20%20%20style%20B%20fill%3A%23e3eaa7%2Cstroke%3A%23333%2Cstroke-width%3A2px%0A%20%20%20%20style%20C%20fill%3A%23b2d3c2%2Cstroke%3A%23333%0A%20%20%20%20%0A%20%20%20%20%25%25%20%E8%BF%9E%E6%8E%A5%E5%85%B3%E7%B3%BB%E8%AF%B4%E6%98%8E%0A%20%20%20%20A%20-.-%3E%7C%E9%BB%98%E8%AE%A4VLAN%201%E6%B5%81%E9%87%8F%7C%20B%0A%0A"})]),fallback:i(()=>s[0]||(s[0]=[t(" Loading... ")])),_:1})),s[7]||(s[7]=l(`<blockquote><h3 id="_1-关键问题" tabindex="-1"><strong>1. 关键问题</strong> <a class="header-anchor" href="#_1-关键问题" aria-label="Permalink to &quot;**1. 关键问题**&quot;">​</a></h3><p><strong>正确</strong>：大多数未配置的交换机（包括华为/华三等）所有端口默认属于：</p><ul><li><p><strong>VLAN 1</strong>（默认VLAN）</p></li><li><p><strong>Access模式</strong>（不打标签，仅允许VLAN 1流量通过）</p></li><li><p><strong>不匹配问题：</strong>：</p><ul><li>上级交换机Port1是 <code>Access VLAN 1</code></li><li>你的交换机Port1是 <code>Access VLAN 10</code></li><li><strong>结果</strong>：数据帧从你的交换机发出时会打上VLAN 10标签，但进入上级交换机时会被强制剥离并分配到VLAN 1，导致通信失败。</li></ul></li></ul><h4 id="_2-能否上网" tabindex="-1"><strong>2. 能否上网？</strong> <a class="header-anchor" href="#_2-能否上网" aria-label="Permalink to &quot;**2. 能否上网？**&quot;">​</a></h4><ul><li>❌ <strong>不能</strong>：VLAN 1和VLAN 10的流量被隔离，笔记本无法通过上级交换机访问网关/互联网。</li></ul></blockquote><h3 id="_2-最优解" tabindex="-1">2. 最优解 <a class="header-anchor" href="#_2-最优解" aria-label="Permalink to &quot;2. 最优解&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 在你的交换机上配置：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[你的交换机] interface gigabitethernet 0/0/1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[你的交换机-GigabitEthernet0/0/1] port link-type trunk</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[你的交换机-GigabitEthernet0/0/1] port trunk allow-pass vlan 1 10  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 允许VLAN 1和10</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 笔记本端口保持Access VLAN 10：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[你的交换机] interface gigabitethernet 0/0/10</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">[你的交换机-GigabitEthernet0/0/10] port default vlan 10</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>`,3)),(n(),h(p,null,{default:i(()=>[a(k,{id:"mermaid-243",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20A%5B%22%E4%B8%8A%E7%BA%A7%E4%BA%A4%E6%8D%A2%E6%9C%BA%3Cbr%3EPort1%3A%20Trunk%22%5D%20--%3E%7C%E5%85%81%E8%AE%B8VLAN%201%2C10%7C%20B%5B(%22%E4%BD%A0%E7%9A%84%E4%BA%A4%E6%8D%A2%E6%9C%BA%3Cbr%3EPort1%3A%20Trunk%22)%5D%0A%20%20%20%20B%20--%3E%7CPort10%3A%20Access%20VLAN%2010%7C%20C%5B%5B%22%E6%88%91%E7%9A%84%E7%AC%94%E8%AE%B0%E6%9C%AC%22%5D%5D%0A%20%20%20%20style%20A%20fill%3A%23f9d5e5%2Cstroke%3A%23333%0A%20%20%20%20style%20B%20fill%3A%23e3eaa7%2Cstroke%3A%23333%2Cstroke-width%3A2px%0A%20%20%20%20style%20C%20fill%3A%23b2d3c2%2Cstroke%3A%23333%0A"})]),fallback:i(()=>s[1]||(s[1]=[t(" Loading... ")])),_:1})),s[8]||(s[8]=l(`<h4 id="查询vlan及端口配置" tabindex="-1">查询vlan及端口配置 <a class="header-anchor" href="#查询vlan及端口配置" aria-label="Permalink to &quot;查询vlan及端口配置&quot;">​</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 查询设备上所有VLAN包含的接口信息。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">Huawei</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;"> display port vlan</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">Huawei</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;"> display vlan</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_5-傻瓜式上网" tabindex="-1">5. 傻瓜式上网 <a class="header-anchor" href="#_5-傻瓜式上网" aria-label="Permalink to &quot;5. 傻瓜式上网&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">SW</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">1&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">display vlan</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">The</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> total</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> number</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> of</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> vlans</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;"> 3</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">--------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">U:</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> Up</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">;         </span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D:</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> Down</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">;         </span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">TG:</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> Tagged</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">;         </span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">UT:</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> Untagged</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">MP:</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> Vlan-mapping</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">;               </span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">ST:</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> Vlan-stacking</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;">#: ProtocolTransparent-vlan;    *: Management-vlan;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">--------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">VID</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  Type</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">    Ports</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                                          </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">--------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">    common</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  UT:Eth0/0/1</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)     </span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">Eth0/0/2</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)     </span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">Eth0/0/3</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)     </span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">Eth0/0/4</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)     </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">                Eth0/0/5(D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)     Eth0/0/6(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)     Eth0/0/7(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)     Eth0/0/8(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)     </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">                Eth0/0/9(D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)     Eth0/0/10(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">U</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    Eth0/0/11(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    Eth0/0/12(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">                Eth0/0/13(D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    Eth0/0/14(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    Eth0/0/15(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    Eth0/0/16(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">                Eth0/0/17(D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    Eth0/0/18(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    Eth0/0/19(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    Eth0/0/20(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">                Eth0/0/21(D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    Eth0/0/22(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    Eth0/0/23(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    Eth0/0/24(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)    </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">                GE0/0/1(D</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)      GE0/0/2(</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">U</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)                                      </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">10</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">   common</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">20</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">   common</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">VID</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  Status</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  Property</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">      MAC-LRN</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> Statistics</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> Description</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">      </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">--------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">    enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  default</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">       enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  disable</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">    VLAN</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;"> 0001</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                         </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">10</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">   enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  default</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">       enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  disable</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">    jiaohuanjiduankou</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                 </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">20</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">   enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  default</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">       enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  disable</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">    VLAN</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;"> 0020</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                         </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">SW</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">1&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">dis	</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">SW</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">1&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">display por	</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">SW</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">1&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">display port</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">                  ^</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Error:Incomplete</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> command</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> found</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> at</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> &#39;^&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> position.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">SW</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">1&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">disp	</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">SW</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">1&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">display vlan por	</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">SW</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">1&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">display por     </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">SW</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">1&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">display port v	</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">SW</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">1&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">display port vlan </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Port</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">                    Link</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> Type</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">    PVID</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">  Trunk</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> VLAN</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> List</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">-------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">           hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/2</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">           hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/3</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">           hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/4</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">           hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/5</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">           hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/6</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">           hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/7</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">           hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/8</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">           hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/9</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">           hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/10</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/11</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/12</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/13</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/14</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/15</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/16</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/17</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/18</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/19</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/20</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/21</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/22</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/23</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">Ethernet0/0/24</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">          hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">GigabitEthernet0/0/1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">    access</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">GigabitEthernet0/0/2</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">    hybrid</span><span style="--shiki-light:#986801;--shiki-dark:#6CB6FF;">       1</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;">     -</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">                                   </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">SW</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;">1&gt;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">我的笔记本在Eth0/0/10(U</span><span style="--shiki-light:#383A42;--shiki-dark:#ADBAC7;">)口，然后通过GigabitEthernet0/0/2口连接上级交换机，上级交换机都是vlan1和access口的，请问我笔记本可以上网吗？我感觉可以</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br></div></div>`,4)),(n(),h(p,null,{default:i(()=>[a(k,{id:"mermaid-252",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20%25%25%20%E4%B8%BB%E6%8B%93%E6%89%91%0A%20%20%20%20A%5B%22%E4%B8%8A%E7%BA%A7%E4%BA%A4%E6%8D%A2%E6%9C%BA%3Cbr%3E(%E6%89%80%E6%9C%89%E7%AB%AF%E5%8F%A3Access%20VLAN1)%22%5D%20--%3E%7C%E5%8D%83%E5%85%86%E5%8F%A30%2F0%2F2%3Cbr%3EHybrid%20PVID%3D1%7C%20B%5B(%22%E4%BD%A0%E7%9A%84%E4%BA%A4%E6%8D%A2%E6%9C%BA%22)%5D%0A%20%20%20%20B%20--%3E%7C%E4%BB%A5%E5%A4%AA%E5%8F%A30%2F0%2F10%3Cbr%3EVLAN1%20Untagged%7C%20C%5B%5B%22%E6%88%91%E7%9A%84%E7%AC%94%E8%AE%B0%E6%9C%AC%22%5D%5D%0A%20%20%20%20%0A%20%20%20%20%25%25%20%E6%95%B0%E6%8D%AE%E6%B5%81%0A%20%20%20%20C%20-.-%3E%7C%E5%8F%91%E9%80%81VLAN1%E6%95%B0%E6%8D%AE%7C%20B%0A%20%20%20%20B%20-.-%3E%7C%E9%80%8F%E4%BC%A0VLAN1%7C%20A%0A%20%20%20%20A%20-.-%3E%7C%E8%B7%AF%E7%94%B1%E4%B8%8A%E7%BD%91%7C%20INTERNET%5B%E4%BA%92%E8%81%94%E7%BD%91%5D%0A%20%20%20%20%0A%20%20%20%20%25%25%20%E6%A0%B7%E5%BC%8F%0A%20%20%20%20style%20A%20fill%3A%23FFD2D2%2Cstroke%3A%23333%0A%20%20%20%20style%20B%20fill%3A%23D2FFD2%2Cstroke%3A%23333%2Cstroke-width%3A2px%0A%20%20%20%20style%20C%20fill%3A%23D2D2FF%2Cstroke%3A%23333%0A%20%20%20%20%0A%20%20%20%20%25%25%20%E6%A8%A1%E6%8B%9F%E5%9B%BE%E4%BE%8B%EF%BC%88%E9%80%9A%E8%BF%87%E9%9A%90%E8%97%8F%E8%8A%82%E7%82%B9%E5%AE%9E%E7%8E%B0%EF%BC%89%0A%20%20%20%20subgraph%20%E5%9B%BE%E4%BE%8B%E8%AF%B4%E6%98%8E%0A%20%20%20%20%20%20%20%20direction%20LR%0A%20%20%20%20%20%20%20%20invisible1%5B%20%5D%20-.-%3E%7CHybrid%20PVID%3D1%7C%20invisible2%5B%22%3D%20Access%20VLAN1%22%5D%0A%20%20%20%20%20%20%20%20invisible3%5B%20%5D%20-.-%3E%7CUT%7C%20invisible4%5B%22%3D%20%E4%B8%8D%E6%89%93%E6%A0%87%E7%AD%BE%22%5D%0A%20%20%20%20%20%20%20%20style%20invisible1%20fill%3A%23fff%2Cstroke%3A%23fff%2Ccolor%3A%23fff%0A%20%20%20%20%20%20%20%20style%20invisible2%20fill%3A%23fff%2Cstroke%3A%23fff%0A%20%20%20%20%20%20%20%20style%20invisible3%20fill%3A%23fff%2Cstroke%3A%23fff%2Ccolor%3A%23fff%0A%20%20%20%20%20%20%20%20style%20invisible4%20fill%3A%23fff%2Cstroke%3A%23fff%0A%20%20%20%20end%0A"})]),fallback:i(()=>s[2]||(s[2]=[t(" Loading... ")])),_:1})),s[9]||(s[9]=l('<h2 id="_6-为什么傻瓜能上网" tabindex="-1">6. 为什么傻瓜能上网? <a class="header-anchor" href="#_6-为什么傻瓜能上网" aria-label="Permalink to &quot;6. 为什么傻瓜能上网?&quot;">​</a></h2><p>这正是网络配置中 <strong>Access模式</strong> 和 <strong>Trunk模式</strong> 的核心区别所在。以下是具体分析：</p><h4 id="一、当前场景-access模式可通" tabindex="-1"><strong>一、当前场景（Access模式可通）</strong> <a class="header-anchor" href="#一、当前场景-access模式可通" aria-label="Permalink to &quot;**一、当前场景（Access模式可通）**&quot;">​</a></h4><p>在您的简单拓扑中：</p>',4)),(n(),h(p,null,{default:i(()=>[a(k,{id:"mermaid-265",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20A%5B%E4%B8%8A%E7%BA%A7%E4%BA%A4%E6%8D%A2%E6%9C%BA-Access%20VLAN1%5D%20--%20Access%20VLAN1%20--%3E%20B%5B%E6%82%A8%E7%9A%84%E4%BA%A4%E6%8D%A2%E6%9C%BA-Access%20VLAN1%5D%0A%20%20%20%20B%20--%20Access%20VLAN1%20--%3E%20C%5B%E7%AC%94%E8%AE%B0%E6%9C%AC%5D%0A"})]),fallback:i(()=>s[3]||(s[3]=[t(" Loading... ")])),_:1})),s[10]||(s[10]=l('<ul><li><strong>能通的原因</strong>：<br> 所有设备同属VLAN1，Access端口会 <strong>自动剥离VLAN标签</strong>，相当于一个&quot;无脑通道&quot;。</li></ul><hr><h4 id="二、为什么需要trunk" tabindex="-1"><strong>二、为什么需要Trunk？</strong> <a class="header-anchor" href="#二、为什么需要trunk" aria-label="Permalink to &quot;**二、为什么需要Trunk？**&quot;">​</a></h4><p><strong>1. 多VLAN通信需求</strong> 当网络中存在多个VLAN时：</p>',4)),(n(),h(p,null,{default:i(()=>[a(k,{id:"mermaid-280",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20A%5B%E4%B8%8A%E7%BA%A7%E4%BA%A4%E6%8D%A2%E6%9C%BA%5D%20--%20Trunk%E5%85%81%E8%AE%B8VLAN1%2C10%2C20%20--%3E%20B%5B%E6%82%A8%E7%9A%84%E4%BA%A4%E6%8D%A2%E6%9C%BA%5D%0A%20%20%20%20B%20--%20Access%20VLAN10%20--%3E%20C%5B%E8%B4%A2%E5%8A%A1%E9%83%A8PC%5D%0A%20%20%20%20B%20--%20Access%20VLAN20%20--%3E%20D%5B%E7%A0%94%E5%8F%91%E9%83%A8PC%5D%0A"})]),fallback:i(()=>s[4]||(s[4]=[t(" Loading... ")])),_:1})),s[11]||(s[11]=l(`<div class="tip custom-block"><p class="custom-block-title">注意</p><ul><li><strong>Access模式的局限</strong>：<br> 每个Access端口只能属于一个VLAN，无法同时传输多个VLAN的数据。</li><li><strong>Trunk的优势</strong>：<br> 允许单条物理链路承载多个VLAN流量（通过打标签区分）。</li></ul></div><h5 id="_2-典型必须使用trunk的场景" tabindex="-1"><strong>2. 典型必须使用Trunk的场景</strong> <a class="header-anchor" href="#_2-典型必须使用trunk的场景" aria-label="Permalink to &quot;**2. 典型必须使用Trunk的场景**&quot;">​</a></h5><table tabindex="0"><thead><tr><th>场景</th><th>Access模式</th><th>Trunk模式</th></tr></thead><tbody><tr><td>交换机级联多VLAN</td><td>❌ 无法实现</td><td>✅ 必须使用</td></tr><tr><td>VoIP电话+PC接入</td><td>❌ 只能选一个VLAN</td><td>✅ 语音VLAN+数据VLAN</td></tr><tr><td>跨交换机的相同VLAN通信</td><td>❌ 需每VLAN单独接线</td><td>✅ 单线复用</td></tr></tbody></table><h5 id="_3-您的配置风险" tabindex="-1"><strong>3. 您的配置风险</strong> <a class="header-anchor" href="#_3-您的配置风险" aria-label="Permalink to &quot;**3. 您的配置风险**&quot;">​</a></h5><p>即使当前用Access能通：</p><ul><li><strong>未来扩展性差</strong>：新增VLAN需重新布线</li><li><strong>资源浪费</strong>：每个VLAN需独立物理链路</li><li><strong>管理混乱</strong>：无法区分不同业务流量</li></ul><hr><h4 id="三、access与trunk的本质区别" tabindex="-1"><strong>三、Access与Trunk的本质区别</strong> <a class="header-anchor" href="#三、access与trunk的本质区别" aria-label="Permalink to &quot;**三、Access与Trunk的本质区别**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>特性</th><th>Access端口</th><th>Trunk端口</th></tr></thead><tbody><tr><td>VLAN支持</td><td>仅1个</td><td>多个</td></tr><tr><td>标签处理</td><td>强制剥离标签</td><td>保留/添加标签</td></tr><tr><td>典型用途</td><td>终端设备接入</td><td>交换机/路由器互联</td></tr><tr><td>配置复杂度</td><td>简单</td><td>需规划VLAN列表</td></tr></tbody></table><hr><h4 id="四、实验验证" tabindex="-1"><strong>四、实验验证</strong> <a class="header-anchor" href="#四、实验验证" aria-label="Permalink to &quot;**四、实验验证**&quot;">​</a></h4><p>您可以通过以下命令观察差异：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 在Trunk端口抓包（会看到带标签的帧）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">display</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> interface</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> GigabitEthernet</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 0/0/1</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;"> |</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;"> include</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> frames</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#768390;--shiki-dark-font-style:inherit;"># 在Access端口抓包（永远无标签）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;">display</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> interface</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> Ethernet</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> 0/0/10</span><span style="--shiki-light:#383A42;--shiki-dark:#F47067;"> |</span><span style="--shiki-light:#4078F2;--shiki-dark:#F69D50;"> include</span><span style="--shiki-light:#50A14F;--shiki-dark:#96D0FF;"> frames</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,13)),a(c),a(o)])}const W=m(E,[["render",f]]);export{w as __pageData,W as default};
