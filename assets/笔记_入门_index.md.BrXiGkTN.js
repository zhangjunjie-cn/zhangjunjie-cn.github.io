import{_ as d}from"./chunks/ArticleMetadata.CtBSOJVh.js";import{a2 as o,a as F,u as i,B as g,e,x as c,ap as C,m as a,o as l,p as y,q as m}from"./chunks/framework.DM74m2GY.js";import"./chunks/theme.DeB3itL1.js";const T=JSON.parse('{"title":"gitee pages 部署脚本","description":"","frontmatter":{"createtime":"2024/6/10 20:37","title":"gitee pages 部署脚本","outline":[2,3],"categories":["笔记"],"tags":["网工"]},"headers":[],"relativePath":"笔记/入门/index.md","filePath":"笔记/入门/index.md","lastUpdated":1732723111000}'),_={name:"笔记/入门/index.md"},D=e("h1",{id:"gitee-pages-部署脚本",tabindex:"-1"},[c("gitee pages 部署脚本 "),e("a",{class:"header-anchor",href:"#gitee-pages-部署脚本","aria-label":'Permalink to "gitee pages 部署脚本"'},"​")],-1),u=C(`<p>不用质疑，用git base here在项目目录下(docs父级文件路径)，执行 <code>sh deploy.sh</code> 命令即可!</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/usr/bin/end sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">set</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -e</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 打包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> docs:build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 切换到 docs/.vitepress.dist目录</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> docs/.vitepress/dist</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">msg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;gitee actions自动部署&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> init</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -A</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">msg</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">}&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> http.postBuffer</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 524288000</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># git commit -m &quot;自动部署&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> core.autocrlf</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://gitee.com/zhangjunjie/docs.git</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --force</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> master:dist</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> -</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> docs/.vitepress/dist</span></span></code></pre></div><p>不用质疑，--force强制推送即可，很强，能有效减少一半的报错几率!</p>`,3);function f(s,B,b,A,v,N){const p=d,h=a("ClientOnly"),k=a("NolebaseGitContributors"),r=a("NolebaseGitChangelog");return l(),F("div",null,[D,i(h,null,{default:g(()=>{var n,t;return[(((n=s.$frontmatter)==null?void 0:n.aside)??!0)&&(((t=s.$frontmatter)==null?void 0:t.showArticleMetadata)??!0)?(l(),y(p,{key:0,article:s.$frontmatter},null,8,["article"])):m("",!0)]}),_:1}),u,i(k),i(r)])}const V=o(_,[["render",f]]);export{T as __pageData,V as default};
