import{_ as s}from"./chunks/WDocTitleMeta.DlZhZiup.js";import{_ as l,C as c,c as d,o,j as p,G as h,aX as m,a as g,w as b,b as u,e as _}from"./chunks/framework.CH2nfyIq.js";import"./chunks/theme.DMpNqzoa.js";const N=JSON.parse('{"title":"ntp校时服务","description":"略","frontmatter":{"title":"ntp校时服务","description":"略","firstCommit":"2025-12-27 13:36","lastUpdated":"2025-12-27 13:36","tags":["operation"]},"headers":[],"relativePath":"笔记/运维服务/ntp校时服务.md","filePath":"笔记/运维服务/ntp校时服务.md","lastUpdated":1766899374000}'),f={name:"笔记/运维服务/ntp校时服务.md"};function k(e,a,v,T,q,w){const r=s,n=c("ClientOnly");return o(),d("div",null,[a[0]||(a[0]=p("h1",{id:"ntp校时服务",tabindex:"-1"},[g("ntp校时服务 "),p("a",{class:"header-anchor",href:"#ntp校时服务","aria-label":'Permalink to "ntp校时服务"'},"​")],-1)),h(n,null,{default:b(()=>{var t,i;return[(((t=e.$frontmatter)==null?void 0:t.aside)??!0)&&(((i=e.$frontmatter)==null?void 0:i.showWDocTitleMeta)??!0)?(o(),u(r,{key:0,article:e.$frontmatter},null,8,["article"])):_("",!0)]}),_:1}),a[1]||(a[1]=m('<h2 id="一、修改注册表" tabindex="-1">一、修改注册表 <a class="header-anchor" href="#一、修改注册表" aria-label="Permalink to &quot;一、修改注册表&quot;">​</a></h2><p>使用win + R 组合键在运行窗口中输入regedit，打开注册表编辑器。 <img src="https://pic4.zhimg.com/v2-0e3141e70d7c576f2f25ce3c4f678bcd_1440w.jpg" alt="" loading="lazy"></p><p><strong>依次展开项目:</strong></p><blockquote><p>计算机\\HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\W32Time\\TimeProviders\\NtpServer</p></blockquote><p>把Enabled设置为1，为打开NTP服务，操作如下图所示。</p><p><img src="https://pic4.zhimg.com/v2-7061eaa2b793b1c3add1529979aa7ce5_1440w.jpg" alt="" loading="lazy"></p><p>依次展开项目:</p><blockquote><p>计算机\\HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\W32Time\\Config</p></blockquote><p>并把AnnounceFlags的值设置为5（系统默认为a）。</p><p><img src="https://pic3.zhimg.com/v2-c951afc7f7959b83c3dd7f6ef6b8edb4_1440w.jpg" alt="" loading="lazy"></p><h2 id="二、启动ntp服务" tabindex="-1">二、启动NTP服务 <a class="header-anchor" href="#二、启动ntp服务" aria-label="Permalink to &quot;二、启动NTP服务&quot;">​</a></h2><p>使用win + R 组合键在运行窗口中输入<code>services.msc</code> ，打开服务。</p><p><img src="https://pic3.zhimg.com/v2-18273d90e57c7259b3c7f15b67bb9684_1440w.jpg" alt="" loading="lazy"></p><p>在服务项中找到Windows Time，双击打开，将【启动类型】设置为自动。</p><p><img src="https://picx.zhimg.com/v2-507c392078ac5221037173c2c29edc11_r.jpg" alt="" loading="lazy"></p><p>然后右键重新启动此服务，服务启动成功。</p><p>设置为自动后确定，点击右键重新启动此服务，至此服务启动成功。</p><h2 id="三、功能测试" tabindex="-1">三、功能测试 <a class="header-anchor" href="#三、功能测试" aria-label="Permalink to &quot;三、功能测试&quot;">​</a></h2><p>启动和关闭windows NTP的方式，还可以使用命令行来管理</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">netstopw32time//停止netstartw32time//启动</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在cmd窗口中输入w32tm /stripchart /computer:127.0.0.1 ，如果有回显则服务正常。</p><p><img src="https://picx.zhimg.com/v2-1b4277d6511185c27aa4d2ffe43142af_1440w.jpg" alt="" loading="lazy"></p><h2 id="四、错误处理" tabindex="-1">四、错误处理 <a class="header-anchor" href="#四、错误处理" aria-label="Permalink to &quot;四、错误处理&quot;">​</a></h2><h5 id="测试报错1" tabindex="-1">测试报错1： <a class="header-anchor" href="#测试报错1" aria-label="Permalink to &quot;测试报错1：&quot;">​</a></h5><p><img src="https://pic2.zhimg.com/v2-8910306a713c085b6c387511a1f95a6d_1440w.jpg" alt="" loading="lazy"></p><blockquote><p>如出现上述错误可能服务被防火墙拦截，可以关闭系统防火墙重新测试。</p></blockquote><h5 id="测试报错2" tabindex="-1">测试报错2： <a class="header-anchor" href="#测试报错2" aria-label="Permalink to &quot;测试报错2：&quot;">​</a></h5><p><img src="https://pica.zhimg.com/v2-50a3ae2e90a6d0e95a006eef05b8849e_1440w.jpg" alt="" loading="lazy"></p><blockquote><p>如出现上述错误可能NTP服务未启动完成，可返回第二步重启NTP服务后重新测试。</p></blockquote>',29))])}const y=l(f,[["render",k]]);export{N as __pageData,y as default};
