<!DOCTYPE html>
<html lang="zh-CH" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nestçš„testä¸­çš„bestæ˜¯Jestæ¡†æ¶-å¼ ä¿Šæ°çš„åšå®¢</title>
    <meta name="description" content="åšæŒæ·±è€•æŠ€æœ¯é¢†åŸŸçš„Tå‹å‰ç«¯ç¨‹åºå‘˜, å–œæ¬¢Vuejsã€Nestjs, è¿˜ä¼šç‚¹pythonã€nlpã€web3ã€åç«¯">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.B6GuOqmf.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CCZZlXJs.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.D56WeXJC.js">
    <link rel="modulepreload" href="/assets/chunks/framework.DBcUES_J.js">
    <link rel="modulepreload" href="/assets/chunks/WDocTitleMeta.SZsDi6lN.js">
    <link rel="modulepreload" href="/assets/åšå®¢_2023_05_01Nestçš„testä¸­çš„bestæ˜¯Jestæ¡†æ¶.md.DRukITsP.lean.js">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MB7XVBG1TQ"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-MB7XVBG1TQ");</script>
    <script>var _hmt=_hmt||[];(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?ea8a4869f485978692f89cd908f6906a";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();</script>
    <link rel="icon" href="/favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta property="og:url" content="https://justin3go.com/åšå®¢/2023/05/01Nestçš„testä¸­çš„bestæ˜¯Jestæ¡†æ¶.html">
    <meta property="og:title" content="Nestçš„testä¸­çš„bestæ˜¯Jestæ¡†æ¶">
    <meta property="og:description" content="åšæŒæ·±è€•æŠ€æœ¯é¢†åŸŸçš„Tå‹å‰ç«¯ç¨‹åºå‘˜, å–œæ¬¢Vuejsã€Nestjs, è¿˜ä¼šç‚¹pythonã€nlpã€web3ã€åç«¯">
    <meta property="og:image" content="/favicon.ico">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:description" content="åšæŒæ·±è€•æŠ€æœ¯é¢†åŸŸçš„Tå‹å‰ç«¯ç¨‹åºå‘˜, å–œæ¬¢Vuejsã€Nestjs, è¿˜ä¼šç‚¹pythonã€nlpã€web3ã€åç«¯">
    <meta name="twitter:image:src" content="/favicon.ico">
  </head>
  <body>
    <div id="app"><!--[--><div class="Layout" data-v-cea06753><!--[--><!--]--><!--[--><span tabindex="-1" data-v-51bf07d0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-51bf07d0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-cea06753 data-v-50f4a238><div class="VPNavBar" data-v-50f4a238 data-v-e20fb034><div class="wrapper" data-v-e20fb034><div class="container" data-v-e20fb034><div class="title" data-v-e20fb034><div class="VPNavBarTitle has-sidebar" data-v-e20fb034 data-v-59e805af><a class="title" href="/" data-v-59e805af><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-9201c2d9><!--]--><!----><!--[--><!--]--></a></div></div><div class="content" data-v-e20fb034><div class="content-body" data-v-e20fb034><!--[--><!--]--><div class="VPNavBarSearch search" data-v-e20fb034><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-e20fb034 data-v-b0800dd5><span id="main-nav-aria-label" class="visually-hidden" data-v-b0800dd5> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-b0800dd5 data-v-55bd3937><!--[--><span data-v-55bd3937>é¦–é¡µ</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/åšå®¢/" tabindex="0" data-v-b0800dd5 data-v-55bd3937><!--[--><span data-v-55bd3937>åšå®¢</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ç¬”è®°/" tabindex="0" data-v-b0800dd5 data-v-55bd3937><!--[--><span data-v-55bd3937>ç¬”è®°</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pages/tags" tabindex="0" data-v-b0800dd5 data-v-55bd3937><!--[--><span data-v-55bd3937>æ ‡ç­¾</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pages/posts" tabindex="0" data-v-b0800dd5 data-v-55bd3937><!--[--><span data-v-55bd3937>å½’æ¡£</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-b0800dd5 data-v-52a018b9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-52a018b9><span class="text" data-v-52a018b9><!----><span data-v-52a018b9>çº¿ä¸Š</span><span class="vpi-chevron-down text-icon" data-v-52a018b9></span></span></button><div class="menu" data-v-52a018b9><div class="VPMenu" data-v-52a018b9 data-v-c73dbbda><div class="items" data-v-c73dbbda><!--[--><!--[--><div class="VPMenuGroup" data-v-c73dbbda data-v-1478c0e3><p class="title" data-v-1478c0e3>è‡ªå»ºé¡¹ç›®</p><!--[--><!--[--><div class="VPMenuLink" data-v-1478c0e3 data-v-3648292e><a class="VPLink link vp-external-link-icon" href="https://oss.justin3go.com/blogs/xiaoyou-mp-code.png" target="_blank" rel="noreferrer" data-v-3648292e><!--[--><span data-v-3648292e>ç¬‘å‹å°ç¨‹åº</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1478c0e3 data-v-3648292e><a class="VPLink link vp-external-link-icon" href="https://ssgo.app" target="_blank" rel="noreferrer" data-v-3648292e><!--[--><span data-v-3648292e>é˜¿é‡Œäº‘ç›˜æœç´¢</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1478c0e3 data-v-3648292e><a class="VPLink link vp-external-link-icon" href="https://usesora.app" target="_blank" rel="noreferrer" data-v-3648292e><!--[--><span data-v-3648292e>Use Sora</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1478c0e3 data-v-3648292e><a class="VPLink link vp-external-link-icon" href="https://bug404.dev" target="_blank" rel="noreferrer" data-v-3648292e><!--[--><span data-v-3648292e>Excel2JSON</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-c73dbbda data-v-1478c0e3><p class="title" data-v-1478c0e3>å¼€æºéƒ¨ç½²</p><!--[--><!--[--><div class="VPMenuLink" data-v-1478c0e3 data-v-3648292e><a class="VPLink link vp-external-link-icon" href="https://chat.justin3go.com/" target="_blank" rel="noreferrer" data-v-3648292e><!--[--><span data-v-3648292e>ChatGPT-Web</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1478c0e3 data-v-3648292e><a class="VPLink link vp-external-link-icon" href="https://chatc.app" target="_blank" rel="noreferrer" data-v-3648292e><!--[--><span data-v-3648292e>LobeChat</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-e20fb034 data-v-29dfd567 data-v-52a018b9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-52a018b9><span class="text" data-v-52a018b9><span class="vpi-languages option-icon" data-v-52a018b9></span><!----><span class="vpi-chevron-down text-icon" data-v-52a018b9></span></span></button><div class="menu" data-v-52a018b9><div class="VPMenu" data-v-52a018b9 data-v-c73dbbda><!----><!--[--><!--[--><div class="items" data-v-29dfd567><p class="title" data-v-29dfd567>ç®€ä½“ä¸­æ–‡</p><!--[--><div class="VPMenuLink" data-v-29dfd567 data-v-3648292e><a class="VPLink link vp-external-link-icon" href="https://en.justin3go.com/åšå®¢/2023/05/01Nestçš„testä¸­çš„bestæ˜¯Jestæ¡†æ¶" target="_blank" rel="noreferrer" data-v-3648292e><!--[--><span data-v-3648292e>English</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-e20fb034 data-v-a451b17f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-a451b17f data-v-14446ba7 data-v-49829584><span class="check" data-v-49829584><span class="icon" data-v-49829584><!--[--><span class="vpi-sun sun" data-v-14446ba7></span><span class="vpi-moon moon" data-v-14446ba7></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-e20fb034 data-v-fcdb60b7 data-v-5b512feb><!--[--><a class="VPSocialLink no-icon" href="/feed.xml" aria-label target="_blank" rel="noopener" data-v-5b512feb data-v-7925a265><svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><title>RSSè®¢é˜…</title><path d="M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z"/><path d="M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z"/><path d="M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-e20fb034 data-v-af1ba796 data-v-52a018b9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-52a018b9><span class="vpi-more-horizontal icon" data-v-52a018b9></span></button><div class="menu" data-v-52a018b9><div class="VPMenu" data-v-52a018b9 data-v-c73dbbda><!----><!--[--><!--[--><div class="group translations" data-v-af1ba796><p class="trans-title" data-v-af1ba796>ç®€ä½“ä¸­æ–‡</p><!--[--><div class="VPMenuLink" data-v-af1ba796 data-v-3648292e><a class="VPLink link vp-external-link-icon" href="https://en.justin3go.com/åšå®¢/2023/05/01Nestçš„testä¸­çš„bestæ˜¯Jestæ¡†æ¶" target="_blank" rel="noreferrer" data-v-3648292e><!--[--><span data-v-3648292e>English</span><!--]--></a></div><!--]--></div><div class="group" data-v-af1ba796><div class="item appearance" data-v-af1ba796><p class="label" data-v-af1ba796>æ·±è‰²æ¨¡å¼</p><div class="appearance-action" data-v-af1ba796><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-af1ba796 data-v-14446ba7 data-v-49829584><span class="check" data-v-49829584><span class="icon" data-v-49829584><!--[--><span class="vpi-sun sun" data-v-14446ba7></span><span class="vpi-moon moon" data-v-14446ba7></span><!--]--></span></span></button></div></div></div><div class="group" data-v-af1ba796><div class="item social-links" data-v-af1ba796><div class="VPSocialLinks social-links-list" data-v-af1ba796 data-v-5b512feb><!--[--><a class="VPSocialLink no-icon" href="/feed.xml" aria-label target="_blank" rel="noopener" data-v-5b512feb data-v-7925a265><svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><title>RSSè®¢é˜…</title><path d="M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z"/><path d="M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z"/><path d="M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-e20fb034 data-v-0a2962f2><span class="container" data-v-0a2962f2><span class="top" data-v-0a2962f2></span><span class="middle" data-v-0a2962f2></span><span class="bottom" data-v-0a2962f2></span></span></button></div></div></div></div><div class="divider" data-v-e20fb034><div class="divider-line" data-v-e20fb034></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-cea06753 data-v-3f30561c><div class="container" data-v-3f30561c><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-3f30561c><span class="vpi-align-left menu-icon" data-v-3f30561c></span><span class="menu-text" data-v-3f30561c>ç›®å½•</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-3f30561c data-v-ab27f483><button data-v-ab27f483>ğŸ‘†Code is building the world.</button><!----></div></div></div><aside class="VPSidebar" data-v-cea06753 data-v-783c16bb><div class="curtain" data-v-783c16bb></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-783c16bb><span class="visually-hidden" id="sidebar-aria-label" data-v-783c16bb> Sidebar Navigation </span><!--[--><!--[--><br><div flex="~ col gap-2"><!----><!----></div><!--]--><!--]--><!--[--><div class="no-transition group" data-v-c927b02c><section class="VPSidebarItem level-0 collapsible" data-v-c927b02c data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h2 class="text" data-v-cc7ec921>post</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><section class="VPSidebarItem level-1 collapsible" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h3 class="text" data-v-cc7ec921>aiä¸­æ–‡</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/post/ai%E4%B8%AD%E6%96%87/01Java%E8%BF%B7%E5%AE%AB" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>Javaè¿·å®«</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/post/ai%E4%B8%AD%E6%96%87/ai-local-painting" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>AI ä½œç”»æœ¬åœ°æ­å»º</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-c927b02c><section class="VPSidebarItem level-0 collapsible has-active" data-v-c927b02c data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h2 class="text" data-v-cc7ec921>åšå®¢</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><section class="VPSidebarItem level-1 collapsible" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h3 class="text" data-v-cc7ec921>2020</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2020/01Java%E8%BF%B7%E5%AE%AB" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>01Javaè¿·å®«</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2020/02%E4%BD%BF%E7%94%A8anaconda%E4%B8%AD%E7%9A%84Prompt%E9%85%8D%E7%BD%AE%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>02ä½¿ç”¨anacondaä¸­çš„Prompté…ç½®è™šæ‹Ÿç¯å¢ƒçš„å¸¸ç”¨å‘½ä»¤</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h3 class="text" data-v-cc7ec921>2021</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2021/01scrapy%E7%88%AC%E8%99%AB%E8%AF%A6%E8%A7%A3" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>01scrapyçˆ¬è™«è¯¦è§£</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2021/02TFIDF%E8%AE%A1%E7%AE%97%E7%9A%84%E5%AD%A6%E4%B9%A0" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>02TFIDFè®¡ç®—çš„å­¦ä¹ </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2021/03%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E6%A8%A1%E6%8B%9F%E7%A8%8B%E5%BA%8F" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>03æ“ä½œç³»ç»Ÿå†…å­˜åˆ†é…æ¨¡æ‹Ÿç¨‹åº</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2021/04%E6%95%A3%E5%88%97%E8%A1%A8%E5%AE%9E%E7%8E%B0%E6%9F%A5%E6%89%BE" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>04æ•£åˆ—è¡¨å®ç°æŸ¥æ‰¾</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h3 class="text" data-v-cc7ec921>2022</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/01%E9%83%BD2022%E5%B9%B4%E4%BA%86%EF%BC%8C%E8%BF%98%E6%98%AF%E5%BE%97%E5%AD%A6%E5%9C%A3%E6%9D%AF%E5%B8%83%E5%B1%80%E4%B8%8E%E5%8F%8C%E9%A3%9E%E7%BF%BC%E5%B8%83%E5%B1%80" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>01éƒ½2022å¹´äº†ï¼Œè¿˜æ˜¯å¾—å­¦åœ£æ¯å¸ƒå±€ä¸åŒé£ç¿¼å¸ƒå±€</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/02TypeScript%E5%85%A5%E9%97%A8" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>02TypeScriptå…¥é—¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/03%E8%BF%99%E9%81%93%E9%A2%98%E5%8E%9F%E6%9D%A5%E5%8F%AF%E4%BB%A5%E7%94%A8%E5%88%B0JS%E8%BF%99%E4%B9%88%E5%A4%9A%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%81" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>03è¿™é“é¢˜åŸæ¥å¯ä»¥ç”¨åˆ°JSè¿™ä¹ˆå¤šçŸ¥è¯†ç‚¹ï¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/04git%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>04gitå¸¸ç”¨æ“ä½œ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/05%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BA%8F%E5%91%98%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84CodeIDE%EF%BC%88code-server%E6%95%99%E7%A8%8B%EF%BC%89" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>05å‰ç«¯ç¨‹åºå‘˜æ­å»ºè‡ªå·±çš„CodeIDEï¼ˆcode-serveræ•™ç¨‹ï¼‰</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/06%E7%8E%A9%E8%BD%ACvitepress" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>06ç©è½¬vitepress</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/07IntersectionObserver%E5%AE%9E%E7%8E%B0%E6%A8%AA%E7%AB%96%E6%BB%9A%E5%8A%A8%E8%87%AA%E9%80%82%E5%BA%94%E6%87%92%E5%8A%A0%E8%BD%BD" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>07IntersectionObserverå®ç°æ¨ªç«–æ»šåŠ¨è‡ªé€‚åº”æ‡’åŠ è½½</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/08%E5%89%8D%E7%AB%AF%E6%9E%84%E5%BB%BA%E7%9A%84%E5%AD%A6%E4%B9%A0(%E5%81%8F%E5%90%91vite)" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>08å‰ç«¯æ„å»ºçš„å­¦ä¹ (åå‘vite)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/09Node%E6%A8%A1%E5%9D%97%E8%A7%84%E8%8C%83%E5%8F%8A%E6%A8%A1%E5%9D%97%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>09Nodeæ¨¡å—è§„èŒƒåŠæ¨¡å—åŠ è½½æœºåˆ¶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/10Node%E5%BC%82%E6%AD%A5%E5%AE%9E%E7%8E%B0%E4%B8%8E%E4%BA%8B%E4%BB%B6%E9%A9%B1%E5%8A%A8" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>10Nodeå¼‚æ­¥å®ç°ä¸äº‹ä»¶é©±åŠ¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/11Node%E5%86%85%E5%AD%98%E6%8E%A7%E5%88%B6" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>11Nodeå†…å­˜æ§åˆ¶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/12Node%E8%BF%9B%E7%A8%8B%E5%8F%8A%E9%9B%86%E7%BE%A4%E7%9B%B8%E5%85%B3" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>12Nodeè¿›ç¨‹åŠé›†ç¾¤ç›¸å…³</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/13CDN%E5%AE%9E%E8%B7%B5%E9%85%8D%E7%BD%AE+%E5%8E%9F%E7%90%86%E7%AF%87" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>13CDNå®è·µé…ç½®+åŸç†ç¯‡</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/14%E8%B6%85%E8%AF%A6%E7%BB%86%E7%9A%84%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BA%8F%E5%91%98git%E6%8C%87%E5%8C%97" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>14è¶…è¯¦ç»†çš„å‰ç«¯ç¨‹åºå‘˜gitæŒ‡åŒ—</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/15JavaScript%E5%9F%BA%E7%A1%80-replace%E6%96%B9%E6%B3%95%E7%9A%84%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%8F%82%E6%95%B0" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>15JavaScriptåŸºç¡€-replaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2022/16%E8%8E%B7%E5%8F%96Object%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>16è·å–Objectçš„ç¬¬ä¸€ä¸ªå…ƒç´ </p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible has-active" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h3 class="text" data-v-cc7ec921>2023</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><section class="VPSidebarItem level-2 collapsible collapsed" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>01</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/01/02JavaScript%E4%B8%93%E9%A2%98-%E5%8E%9F%E5%9E%8B%E9%93%BE" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>02JavaScriptä¸“é¢˜-åŸå‹é“¾</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/01/08JavaScript%E4%B8%93%E9%A2%98-%E7%BB%A7%E6%89%BF" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>08JavaScriptä¸“é¢˜-ç»§æ‰¿</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/01/25%E6%B5%85%E8%B0%88NestJS%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>25æµ…è°ˆNestJSè®¾è®¡æ€æƒ³</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/01/28%E4%BA%86%E8%A7%A3API%E7%9B%B8%E5%85%B3%E8%8C%83%E5%BC%8F(RPC%E3%80%81REST%E3%80%81GraphQL)" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>28äº†è§£APIç›¸å…³èŒƒå¼(RPCã€RESTã€GraphQL)</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>02</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/02/04Vue3%E7%9B%B8%E5%85%B3%E5%8E%9F%E7%90%86%E6%A2%B3%E7%90%86" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>04Vue3ç›¸å…³åŸç†æ¢³ç†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/02/17%E8%81%8A%E8%81%8A%E6%BA%90%E7%AD%96%E7%95%A5%E9%99%90%E5%88%B6AJAX%E8%AF%B7%E6%B1%82" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>17èŠèŠæºç­–ç•¥é™åˆ¶AJAXè¯·æ±‚</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/02/19%E6%94%BE%E5%BC%83Cookie-Session%EF%BC%8C%E6%8B%A5%E6%8A%B1JWT%EF%BC%9F" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>19æ”¾å¼ƒCookie-Sessionï¼Œæ‹¥æŠ±JWTï¼Ÿ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/02/23%E4%BD%A0%E5%8F%AF%E8%83%BD%E5%BF%BD%E7%95%A5%E7%9A%8410%E7%A7%8DJavaScript%E5%BF%AB%E4%B9%90%E5%86%99%E6%B3%95" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>23ä½ å¯èƒ½å¿½ç•¥çš„10ç§JavaScriptå¿«ä¹å†™æ³•</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>03</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/03/06%E4%B8%89%E4%B8%AA%E7%BB%8F%E5%85%B8%E7%9A%84TypeScript%E6%98%93%E6%B7%B7%E6%B7%86%E7%82%B9" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>06ä¸‰ä¸ªç»å…¸çš„TypeScriptæ˜“æ··æ·†ç‚¹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/03/22%E8%81%8A%E8%81%8A%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB(%E5%8E%86%E5%8F%B2%E3%80%81%E8%81%8C%E8%B4%A3%E5%88%92%E5%88%86%E3%80%81%E6%9C%AA%E6%9D%A5%E5%8F%91%E5%B1%95)" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>22èŠèŠå‰åç«¯åˆ†ç¦»(å†å²ã€èŒè´£åˆ’åˆ†ã€æœªæ¥å‘å±•)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/03/29%E5%89%8D%E7%AB%AF%E8%87%AA%E7%BB%99%E8%87%AA%E8%B6%B3UI%E8%AE%BE%E8%AE%A1%E7%A8%BF" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>29å‰ç«¯è‡ªç»™è‡ªè¶³UIè®¾è®¡ç¨¿</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/03/31%E6%9E%81%E7%AE%80%E5%9C%B0%E7%BB%99%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E8%AE%A2%E9%98%85%E5%8A%9F%E8%83%BD" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>31æç®€åœ°ç»™ä¸ªäººåšå®¢æ·»åŠ è®¢é˜…åŠŸèƒ½</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>04</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/04/05%E5%AE%9E%E7%8E%B0%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F(uniapp)%E4%B8%8A%E4%BC%A0%E5%A4%B4%E5%83%8F%E8%87%B3%E9%98%BF%E9%87%8C%E4%BA%91oss" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>05å®ç°å¾®ä¿¡å°ç¨‹åº(uniapp)ä¸Šä¼ å¤´åƒè‡³é˜¿é‡Œäº‘oss</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/04/17%E6%88%91%E7%BB%88%E4%BA%8E%E4%BC%9A%E7%94%A8Docker%E4%BA%86(nest+prisma+psotgresql+nginx+https)" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>17æˆ‘ç»ˆäºä¼šç”¨Dockeräº†(nest+prisma+psotgresql+nginx+https)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/04/20Vue3+TS(uniapp)%E6%89%8B%E6%92%B8%E4%B8%80%E4%B8%AA%E8%81%8A%E5%A4%A9%E9%A1%B5%E9%9D%A2" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>20Vue3+TS(uniapp)æ‰‹æ’¸ä¸€ä¸ªèŠå¤©é¡µé¢</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/04/23Nest%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%B8%A6%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81%E7%9A%84GraphQL%E8%AE%A2%E9%98%85Subscription" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>23Nestå¦‚ä½•å®ç°å¸¦èº«ä»½éªŒè¯çš„GraphQLè®¢é˜…Subscription</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/04/26%E8%AF%95%E4%B8%8B%E5%BE%AE%E8%B0%83GPT-3%E5%81%9A%E4%B8%80%E4%B8%AA%E5%BF%83%E7%90%86%E9%97%AE%E7%AD%94%E6%9C%BA%E5%99%A8%E4%BA%BA" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>26è¯•ä¸‹å¾®è°ƒGPT-3åšä¸€ä¸ªå¿ƒç†é—®ç­”æœºå™¨äºº</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed has-active" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>05</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/05/01Nest%E7%9A%84test%E4%B8%AD%E7%9A%84best%E6%98%AFJest%E6%A1%86%E6%9E%B6" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>01Nestçš„testä¸­çš„bestæ˜¯Jestæ¡†æ¶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/05/07%E4%B8%A4%E4%B8%AA%E5%A4%9A%E6%9C%88%E6%8D%A3%E9%BC%93%E4%BA%86%E4%B8%80%E4%B8%AA%E5%81%A5%E5%BA%B7%E7%B1%BB%E5%B0%8F%E7%A8%8B%E5%BA%8F" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>07ä¸¤ä¸ªå¤šæœˆæ£é¼“äº†ä¸€ä¸ªå¥åº·ç±»å°ç¨‹åº</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/05/09PIXIJS%E5%BF%AB%E9%80%9F%E4%B8%80%E8%A7%88" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>09PIXIJSå¿«é€Ÿä¸€è§ˆ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/05/11%E8%AF%A5%E7%BB%99%E7%B3%BB%E7%BB%9F%E5%8A%A0%E5%93%AA%E4%B8%80%E4%B8%AA%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%E6%A8%A1%E5%9E%8B%E5%91%A2" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>11è¯¥ç»™ç³»ç»ŸåŠ å“ªä¸€ä¸ªæƒé™æ§åˆ¶æ¨¡å‹å‘¢</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>06</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/06/06%E7%AE%80%E5%8D%95%E4%BC%98%E5%8C%96%E4%B8%8B%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E9%A6%96%E9%A1%B5(%E8%BF%81%E7%A7%BBvitepress-beta%E7%89%88)" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>06ç®€å•ä¼˜åŒ–ä¸‹ä¸ªäººåšå®¢é¦–é¡µ(è¿ç§»vitepress-betaç‰ˆ)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/06/18vitepress%E5%8D%9A%E5%AE%A2%E9%87%8C%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AARSS%E8%AE%A2%E9%98%85" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>18vitepressåšå®¢é‡Œå¢åŠ ä¸€ä¸ªRSSè®¢é˜…</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>07</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/07/02%E5%89%8D%E7%AB%AF%E5%8F%8Ctoken%E7%AD%96%E7%95%A5(uniapp-vue3-ts%E7%89%88)" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>02å‰ç«¯åŒtokenç­–ç•¥(uniapp-vue3-tsç‰ˆ)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/07/26(%E8%AF%91)%E9%9D%A2%E5%90%91JavaScript%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E7%9A%84Docker%E7%AE%80%E4%BB%8B%EF%BC%88Node.js%20%E5%92%8C%20PostgreSQL%EF%BC%89" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>26(è¯‘)é¢å‘JavaScriptå¼€å‘äººå‘˜çš„Dockerç®€ä»‹ï¼ˆNode.js å’Œ PostgreSQLï¼‰</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>08</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/08/17%E6%B5%85%E8%B0%88%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E5%8E%9F%E7%90%86" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>17æµ…è°ˆæœç´¢å¼•æ“åŸç†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/08/18%E7%BB%99vitepress%E5%A2%9E%E5%8A%A0%E7%9F%AD%E9%93%BE%E6%8E%A5%E7%94%9F%E6%88%90%E5%8A%9F%E8%83%BD" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>18ç»™vitepresså¢åŠ çŸ­é“¾æ¥ç”ŸæˆåŠŸèƒ½</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/08/22Web%E6%9E%B6%E6%9E%84JAMStack%E2%80%9C%E4%BB%A5%E5%8A%A8%E5%88%B6%E9%9D%99%E2%80%9D" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>22Webæ¶æ„JAMStackâ€œä»¥åŠ¨åˆ¶é™â€</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/08/29%E4%BD%A0%E6%9D%A5%E4%BD%A0%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%81%9A%E4%B8%80%E4%B8%AA%E7%BD%91%E7%9B%98%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>29ä½ æ¥ä½ ä¹Ÿå¯ä»¥åšä¸€ä¸ªç½‘ç›˜æœç´¢å¼•æ“</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/08/31%E5%8E%9F%E6%9D%A5Vue%E8%BF%98%E6%9C%89%E8%BF%99%E4%B9%88%E5%A4%9A%E5%A5%BD%E7%94%A8%E7%9A%84UI%E5%BA%93" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>31åŸæ¥Vueè¿˜æœ‰è¿™ä¹ˆå¤šå¥½ç”¨çš„UIåº“</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>09</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/09/28vitepress%E4%B8%AD%E5%A2%9E%E5%8A%A0twitter%E5%8D%A1%E7%89%87" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>28vitepressä¸­å¢åŠ twitterå¡ç‰‡</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/09/29vitepress%E4%B8%AD%E5%BC%95%E5%85%A5Tdesign%E5%B9%B6%E5%85%A8%E5%B1%80%E5%A2%9E%E5%8A%A0%E5%A4%A7%E5%9B%BE%E9%A2%84%E8%A7%88" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>29vitepressä¸­å¼•å…¥Tdesignå¹¶å…¨å±€å¢åŠ å¤§å›¾é¢„è§ˆ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/09/29%E8%87%AA%E6%89%98%E7%AE%A1%E9%A1%B9%E7%9B%AE%E5%B7%A5%E5%85%B7plane%E7%AE%A1%E7%90%86%E8%87%AA%E5%B7%B1%E7%9A%84TodoList" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>29è‡ªæ‰˜ç®¡é¡¹ç›®å·¥å…·planeç®¡ç†è‡ªå·±çš„TodoList</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>11</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/11/01%E6%90%9E%E4%B8%AA%E5%9F%9F%E5%90%8D%E9%82%AE%E7%AE%B1%E7%8E%A9%E7%8E%A9%EF%BC%88%E5%A6%82just@justin3go.com%EF%BC%89" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>01æä¸ªåŸŸåé‚®ç®±ç©ç©ï¼ˆå¦‚just@justin3go.comï¼‰</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/11/08%E7%9C%8B%E7%9C%8Bopenai%E5%8F%91%E5%B8%83%E4%BC%9A" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>08çœ‹çœ‹openaiå‘å¸ƒä¼š</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/11/14%E5%9C%A8uniapp%E4%B8%AD%E4%BD%BF%E7%94%A8GraphQL%E7%9A%84%E4%B8%80%E4%BA%9B%E6%8E%A2%E7%B4%A2" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>14åœ¨uniappä¸­ä½¿ç”¨GraphQLçš„ä¸€äº›æ¢ç´¢</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/11/29%E6%B8%B8%E6%A0%87%E5%88%86%E9%A1%B5%E8%BE%83%E4%BC%A0%E7%BB%9F%E5%88%86%E9%A1%B5%E7%9A%84%E4%BC%98%E5%8A%BF%E4%BB%A5%E5%8F%8A%E8%AF%A6%E7%BB%86%E5%AE%9E%E7%8E%B0" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>29æ¸¸æ ‡åˆ†é¡µè¾ƒä¼ ç»Ÿåˆ†é¡µçš„ä¼˜åŠ¿ä»¥åŠè¯¦ç»†å®ç°</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>12</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2023/12/11%E8%82%A1%E7%A5%A8%E5%9F%BA%E9%87%91%E5%B8%B8%E7%94%A8%E6%8C%87%E6%A0%87%E3%80%81%E6%96%B9%E6%B3%95%E8%A7%A3%E9%87%8A" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>11è‚¡ç¥¨åŸºé‡‘å¸¸ç”¨æŒ‡æ ‡ã€æ–¹æ³•è§£é‡Š</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-1 collapsible" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h3 class="text" data-v-cc7ec921>2024</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><section class="VPSidebarItem level-2 collapsible collapsed" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>01</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2024/01/03%E5%A4%A9%E5%86%B7%E4%BA%86%EF%BC%8C%E7%AC%94%E8%AE%B0%E6%9C%AC%E4%B9%9F%E9%9C%80%E8%A6%81%E4%BF%9D%E6%9A%96%E4%BA%86" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>03å¤©å†·äº†ï¼Œç¬”è®°æœ¬ä¹Ÿéœ€è¦ä¿æš–äº†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2024/01/12%E5%86%99%E4%B8%AAdocker+nginx%E9%83%A8https%E7%9A%84%E6%A8%A1%E6%9D%BF" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>12å†™ä¸ªdocker+nginxéƒ¨httpsçš„æ¨¡æ¿</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2024/01/26Nuxt3%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E6%90%9C%E7%B4%A2%E9%A1%B5%E9%9D%A2" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>26Nuxt3æ‰‹å†™ä¸€ä¸ªæœç´¢é¡µé¢</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>02</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2024/02/18%E5%8F%88%E4%B8%80%E6%AC%A1%E5%BC%80%E5%A7%8B%E5%AD%A6%E8%8B%B1%E8%AF%AD%E4%BA%86%EF%BC%8C%E5%B8%8C%E6%9C%9B%E8%BF%99%E6%AC%A1%E8%83%BD%E4%BA%AB%E5%8F%97%E5%AE%83" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>18åˆä¸€æ¬¡å¼€å§‹å­¦è‹±è¯­äº†ï¼Œå¸Œæœ›è¿™æ¬¡èƒ½äº«å—å®ƒ</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 collapsible collapsed" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h4 class="text" data-v-cc7ec921>04</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2024/04/18%E6%9C%80%E8%BF%91GPT%E5%B8%AE%E6%88%91%E8%A7%A3%E5%86%B3%E7%9A%8430%E4%B8%AA%E9%97%AE%E9%A2%98" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>18æœ€è¿‘GPTå¸®æˆ‘è§£å†³çš„30ä¸ªé—®é¢˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E5%8D%9A%E5%AE%A2/2024/04/28%E5%A6%82%E4%BD%95%E8%AE%A8%E5%A5%BD%E8%AF%BB%E8%80%85%E6%88%96%E8%A7%82%E4%BC%97" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>28å¦‚ä½•è®¨å¥½è¯»è€…æˆ–è§‚ä¼—</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-c927b02c><section class="VPSidebarItem level-0 collapsible" data-v-c927b02c data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h2 class="text" data-v-cc7ec921>ç¬”è®°</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><section class="VPSidebarItem level-1 collapsible" data-v-cc7ec921 data-v-cc7ec921><div class="item" role="button" tabindex="0" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><h3 class="text" data-v-cc7ec921>houduan</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cc7ec921><span class="vpi-chevron-right caret-icon" data-v-cc7ec921></span></div></div><div class="items" data-v-cc7ec921><!--[--><div class="VPSidebarItem level-2 is-link" data-v-cc7ec921 data-v-cc7ec921><div class="item" data-v-cc7ec921><div class="indicator" data-v-cc7ec921></div><a class="VPLink link link" href="/%E7%AC%94%E8%AE%B0/houduan/01Django" data-v-cc7ec921><!--[--><p class="text" data-v-cc7ec921>Djangoè¿›é˜¶å­¦ä¹ ç¬”è®°</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-cea06753 data-v-a84ab437><div class="VPDoc has-sidebar has-aside" data-v-a84ab437 data-v-f83d3c76><!--[--><!--]--><div class="container" data-v-f83d3c76><div class="aside" data-v-f83d3c76><div class="aside-curtain" data-v-f83d3c76></div><div class="aside-container" data-v-f83d3c76><div class="aside-content" data-v-f83d3c76><div class="VPDocAside" data-v-f83d3c76 data-v-9977d173><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-9977d173 data-v-238d95f3><div class="content" data-v-238d95f3><div class="outline-marker" data-v-238d95f3></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-238d95f3>å¤§çº²</div><ul class="VPDocOutlineItem root" data-v-238d95f3 data-v-e5d918a3><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-9977d173></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-f83d3c76><div class="content-container" data-v-f83d3c76><!--[--><!--]--><main class="main" data-v-f83d3c76><div style="position:relative;" class="vp-doc _%E5%8D%9A%E5%AE%A2_2023_05_01Nest%E7%9A%84test%E4%B8%AD%E7%9A%84best%E6%98%AFJest%E6%A1%86%E6%9E%B6" data-v-f83d3c76><div><h1 id="nestçš„testä¸­çš„bestæ˜¯jestæ¡†æ¶" tabindex="-1">Nestçš„testä¸­çš„bestæ˜¯Jestæ¡†æ¶ <a class="header-anchor" href="#nestçš„testä¸­çš„bestæ˜¯jestæ¡†æ¶" aria-label="Permalink to &quot;Nestçš„testä¸­çš„bestæ˜¯Jestæ¡†æ¶&quot;">â€‹</a></h1><!----><h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to &quot;å‰è¨€&quot;">â€‹</a></h2><p>è¶ç€äº”ä¸€æ”¾å‡ï¼ŒèŠ±äº†3å¤©æ—¶é—´ç»™è‡ªå·±ä¹‹å‰åšçš„ä¸€ä¸ªå°ç³»ç»ŸåŸºæœ¬è¡¥å®Œäº†å•å…ƒæµ‹è¯•ï¼Œè¶æ­¤æœºä¼š&gt;è„‘è¢‹é‡Œå¯¹äºå•å…ƒæµ‹è¯•çš„çŸ¥è¯†è¿˜ç®—çƒ­ä¹ï¼Œæ¥è¾“å‡ºä¸€ç¯‡æ¯”è¾ƒè¯¦ç»†çš„å…³äºå•å…ƒæµ‹è¯•çš„æ–‡ç« ï¼Œä»¥æ¢³ç†çŸ¥è¯†ï¼Œèæ±‡è´¯é€šï¼›å¦‚æœå¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œå½“ç„¶æœ€å¥½ä¸è¿‡ğŸ‰</p><p>æ ‡é¢˜æ˜¯ä¸æ˜¯æŒºæœ‰è¶£çš„ğŸ˜€ğŸ˜€ğŸ˜€ï¼Œä¸è¿‡<code>best</code>å¯èƒ½æœ‰å¾…å•†æ¦·ï¼Œæ¯•ç«Ÿæœ€é«˜çº§è¿™ç§å•è¯è¿˜æ˜¯ä¸èƒ½éšä¾¿ä¹±ç”¨ï¼Œä¸‹é¢å…ˆçœ‹è¿è¡Œæˆªå›¾ï¼š</p><p><img src="https://oss.justin3go.com/blogs/Pasted%20image%2020230501082617.png" alt="" loading="lazy"></p><p><img src="https://oss.justin3go.com/blogs/Pasted%20image%2020230501082633.png" alt="" loading="lazy"></p><p>å—¯^~^ï¼Œèˆ’æœäº†...</p><p><img src="https://oss.justin3go.com/blogs/QQ%E5%9B%BE%E7%89%8720230501082945.jpg" alt="" loading="lazy"></p><p>è™½ç„¶è¿˜æœ‰ä¸€ç‚¹å°ç‘•ç–µï¼Œä½†æ˜¯ä¸ä¼¤å¤§é›…ï¼Œä¸‹é¢ç»†ç»†é“æ¥...</p><h2 id="å•å…ƒæµ‹è¯•çš„å¥½å¤„" tabindex="-1">å•å…ƒæµ‹è¯•çš„å¥½å¤„ <a class="header-anchor" href="#å•å…ƒæµ‹è¯•çš„å¥½å¤„" aria-label="Permalink to &quot;å•å…ƒæµ‹è¯•çš„å¥½å¤„&quot;">â€‹</a></h2><h3 id="ä»€ä¹ˆæ˜¯å•å…ƒæµ‹è¯•" tabindex="-1">ä»€ä¹ˆæ˜¯å•å…ƒæµ‹è¯• <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯å•å…ƒæµ‹è¯•" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯å•å…ƒæµ‹è¯•&quot;">â€‹</a></h3><p>é¦–å…ˆè°ˆè°ˆå•å…ƒæµ‹è¯•çš„å®šä¹‰ï¼Œå®ƒæ˜¯ä»€ä¹ˆï¼Œäº†è§£å®ƒæ‰èƒ½çŸ¥é“å®ƒçš„ä¼˜ç‚¹æœ‰å“ªäº›å¡ï¼šå•å…ƒæµ‹è¯•æ˜¯ä¸€ç§è½¯ä»¶æµ‹è¯•æ–¹æ³•ï¼Œå®ƒå¯¹è½¯ä»¶ç³»ç»Ÿä¸­çš„æœ€å°å¯æµ‹è¯•å•å…ƒè¿›è¡Œæµ‹è¯•ï¼Œé€šå¸¸æ˜¯å‡½æ•°æˆ–è€…æ–¹æ³•ã€‚</p><p>æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥ç†è§£ä¸€ä¸‹è¿™ä¸ªå®šä¹‰ï¼š</p><ul><li>å¥½æ¯”æˆ‘ä»¬å°å­¦åšæ•°å­¦é¢˜ï¼Œæ¯åšå®Œä¸€é¢˜ä¹‹åæ˜¯ä¸æ˜¯éœ€è¦éªŒç®—ä¸€æ¬¡ï¼Œæ‰èƒ½æ”¾å¿ƒåœ°åšä¸‹ä¸€é“é¢˜ï¼Œè¿™å°±æ˜¯å•å…ƒæµ‹è¯•ï¼Œä»¥ä¸€é“é¢˜ç›®ä½œä¸ºä¸€ä¸ªå•å…ƒè¿›è¡Œæµ‹è¯•ï¼›</li><li>è€Œå½“æˆ‘ä»¬åšå®Œæ•´å¼ è¯•å·çš„æ—¶å€™ï¼Œé€šå¸¸ä¹Ÿè¦èŠ±20åˆ†é’Ÿå»å¯¹æ•´å¼ å·å­å†æ£€æŸ¥ä¸€éï¼Œç”šè‡³ä¸æ­¢ä¸€éï¼Œæ‰èƒ½æ”¾å¿ƒäº¤å·ã€‚</li><li>è™½ç„¶æœ€åä¸€æ¬¡çš„å…¨éƒ¨æ£€æŸ¥ä¸€æ¬¡è™½ç„¶å¾ˆæœ‰å¿…è¦ï¼Œæ¯•ç«Ÿæ˜¯è¦äº¤ä»˜äº†å˜›ï¼›ä½†æ˜¯å¾ˆå¤šæ—¶å€™ä¹Ÿæ˜¯åœ¨è¿›è¡Œé‡å¤æ€§çš„å·¥ä½œï¼Œè‡³å°‘ç¬”è€…ä»¥å‰åšè¯•å·æ˜¯è¿™æ ·çš„ï¼šæŠŠæ¯ä¸€æ¬¡çš„éªŒç®—æ–¹æ³•å†åšä¸€éï¼Œæ‰èƒ½å¿ƒå®‰...</li></ul><p>è¯•å·ä¸­å½“ç„¶åªèƒ½æ‰‹ç®—ï¼Œä½†ç¨‹åºä¸­å´å¯ä»¥æœ‰å¾ˆå¤§çš„ä¼˜åŒ–ï¼Œè¿™ä¹Ÿæ˜¯è®¡ç®—æœºçš„ä¼˜åŠ¿ä¹‹ä¸€â€”â€”è‡ªåŠ¨åŒ–ã€‚</p><p>è¿™å¾—ç›Šäº&quot;ç®—æ³•&quot;ä¸­çš„ä¸€ä¸ªæ€§è´¨-<code>ç¡®å®šæ€§(Definiteness)</code>ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°çš„çŸ¥é“è¿™ä¸ªå‡½æ•°æ¯ä¸ªæ­¥éª¤è¿è¡Œä¹‹åæœ€ç»ˆçš„ç»“æœï¼Œä¹Ÿå°±æ˜¯åŒä¸€ä¸ªè¾“å…¥ç”¨ä¾‹ï¼Œç¨‹åºçš„è¾“å‡ºé¢„æœŸéƒ½æ˜¯ä¸€æ ·ã€‚</p><p><img src="https://oss.justin3go.com/blogs/%E7%AE%97%E6%B3%95%E4%B8%AD%E7%9A%84%E7%A1%AE%E5%AE%9A%E6%80%A7%E6%BC%94%E7%A4%BA.png" alt="" loading="lazy"></p><p>æˆ‘ä»¬å­¦Cè¯­è¨€è¯¾ç¨‹çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯è¦å†™ä¸€ä¸ª<code>helloWorld()</code>å‡½æ•°ï¼Œå†™å®Œä¹‹åæˆ‘ä»¬æ˜¯ä¸æ˜¯è¦è¿è¡Œæ‰èƒ½çŸ¥é“æˆ‘ä»¬å†™å¾—å¯¹ä¸å¯¹æ˜¯å§ã€‚è€Œä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿå°±æ˜¯ç”±éå¸¸å¤šçš„â€œ<code>helloWorld()</code>â€è¿™ç§å‡½æ•°å•å…ƒç»„æˆçš„ã€‚</p><ul><li>æ­¤æ—¶æˆ‘ä»¬å°±ä¸å¯èƒ½å†æ‰‹åŠ¨åœ°å»<code>console.log(helloWorld(case1))</code>ä¹‹ç±»çš„é‡å¤æ€§å·¥ä½œï¼Œå°±éœ€è¦è‡ªåŠ¨åŒ–çš„å•å…ƒæµ‹è¯•äº†ï¼Œä»¥æ–¹ä¾¿æˆ‘ä»¬å†æ¯ä¸€æ¬¡äº¤ä»˜çš„æ—¶å€™ï¼Œéå¸¸æ”¾å¿ƒåœ°çŸ¥é“ä¹‹å‰åšçš„æ¯ä¸€é“é¢˜éƒ½æ²¡æœ‰é—®é¢˜ï¼›</li><li>ç”šè‡³è¯´å¾ˆå¤šé¢˜ç›®éƒ½æ˜¯æœ‰å…³è”çš„ï¼Œæ¯”å¦‚ç¬¬ä¸€å°é¢˜é”™äº†ï¼Œæ•´é“å¤§é¢˜éƒ½å¾—ä¸äº†åˆ†äº†ã€‚è½¯ä»¶ç³»ç»Ÿä¸­çš„æ¯ä¸€ä¸ªç¨‹åºä¹‹é—´çš„å…³è”ä¾èµ–æ›´ä¸ºå¤æ‚ï¼Œå¾ˆå¤šæ—¶å€™å³ä½¿99%çš„ä»£ç å•å…ƒéƒ½æ²¡é—®é¢˜ï¼Œé‚£1%çš„é”™è¯¯ä»£ç ä¹Ÿå¯èƒ½å¯¼è‡´æ•´ä¸ªç³»ç»Ÿå´©æºƒã€‚</li></ul><p>è¿™é‡Œå…¶å®ä¹Ÿç®€å•è°ˆäº†è°ˆå•å…ƒæµ‹è¯•çš„å¿…è¦æ€§äº†ï¼Œä¸‹é¢å°±è¯¦ç»†è°ˆè°ˆå•å…ƒæµ‹è¯•çš„å¥½å¤„</p><h3 id="æé«˜ä»£ç è´¨é‡" tabindex="-1">æé«˜ä»£ç è´¨é‡ <a class="header-anchor" href="#æé«˜ä»£ç è´¨é‡" aria-label="Permalink to &quot;æé«˜ä»£ç è´¨é‡&quot;">â€‹</a></h3><p>ä¸ç»è¿‡æµ‹è¯•çš„ä»£ç ï¼Œä½ è‡ªå·±èƒ½æ”¾å¿ƒå—ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚</p><p>åœ¨ç¼–å†™å•å…ƒæµ‹è¯•çš„æ—¶å€™ï¼Œä¼šç»™æˆ‘ä»¬å†ä¸€æ¬¡æ€è€ƒè¯¥å‡½æ•°å•å…ƒçš„é€»è¾‘çš„æœºä¼šã€‚å¦‚æœæŒ‰ç…§å…ˆå†™ä»£ç ï¼Œå†å†™æµ‹è¯•ç”¨ä¾‹çš„æµç¨‹æ¥è¯´ï¼š</p><ul><li>åœ¨å†™å‡½æ•°å•å…ƒä»£ç çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½æ›´å¤šçš„æ˜¯ä½œä¸ºä¸€ä¸ªå±€é‡Œäººï¼›è€Œåœ¨å†™æµ‹è¯•çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±æˆä¸ºäº†ä¸€ä¸ªæ—è§‚è€…ï¼Œåœ¨é˜…è¯»ã€æ€è€ƒã€è¯„åˆ¤â€œå¦ä¸€ä¸ªè‡ªå·±â€å†™çš„ä»£ç ã€‚</li><li>å°±å¥½æ¯”ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œ(GAN)çš„åŸºæœ¬æ€æƒ³â€”â€”<strong>å¯¹æŠ—</strong>ï¼Œå®ƒçš„ä¸»è¦ç»“æ„åŒ…æ‹¬ä¸€ä¸ªç”Ÿæˆå™¨å’Œä¸€ä¸ªåˆ¤åˆ«å™¨ã€‚æ­¤æ—¶â€œå†™ä»£ç çš„è‡ªå·±â€å°±æ˜¯ç”Ÿæˆå™¨ï¼Œè€Œâ€œå†™æµ‹è¯•çš„è‡ªå·±â€å°±æ˜¯åˆ¤åˆ«å™¨ã€‚æ•ˆæœè‡ªç„¶éå¸¸ä¸é”™ã€‚</li></ul><p>â€œå·¦è„šè¸©å³è„šâ€è¿˜çœŸèƒ½ä¸Šå¤©</p><p><img src="https://oss.justin3go.com/blogs/Pasted%20image%2020230501111816.png" alt="" loading="lazy"></p><p>ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£</p><h3 id="æé«˜ä»£ç å¯ç»´æŠ¤æ€§" tabindex="-1">æé«˜ä»£ç å¯ç»´æŠ¤æ€§ <a class="header-anchor" href="#æé«˜ä»£ç å¯ç»´æŠ¤æ€§" aria-label="Permalink to &quot;æé«˜ä»£ç å¯ç»´æŠ¤æ€§&quot;">â€‹</a></h3><p>è¿™ä¸€ç‚¹ä¸»è¦å¾—ç›Šäºâ€œè‡ªåŠ¨åŒ–â€è¿™ä¸ªç‰¹æ€§ï¼Œå®ƒä¸éœ€è¦æˆ‘ä»¬é‡å¤ä¸ºä»¥å‰çš„ä»£ç ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œä¸€æ¬¡ç¼–å†™åŸºæœ¬å¯ä»¥åœ¨åç»­ä¸€ç›´ä½¿ç”¨ã€‚</p><p>å…·ä½“æ¥è¯´ï¼š</p><ul><li>ä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿé€šå¸¸æ˜¯éå¸¸å¤æ‚çš„ï¼Œä»£ç ä¹‹é—´çš„å…³è”ä¾èµ–å¯èƒ½éå¸¸é«˜ï¼Œåœ¨ä¸å¯¹æ‰€æœ‰å‡½æ•°å•å…ƒè¿›è¡Œæµ‹è¯•çš„å‰æä¸‹ï¼Œä½ å¾ˆéš¾æ”¾å¿ƒä½ çš„æ–°å¢ä»£ç æ˜¯å¦æœ‰å½±å“åˆ°å…¶ä»–çš„éƒ¨åˆ†ï¼Œè®©å…¶å®ƒçš„å‡½æ•°å•å…ƒä¸èƒ½æ­£å¸¸è¿è¡Œã€‚</li><li>ç‰¹åˆ«æ˜¯ä½œä¸ºèºä¸é’‰çš„æ‰“å·¥äººï¼Œå¯¹æ•´ä¸ªè½¯ä»¶ç³»ç»Ÿè¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰çš„æ—¶å€™ï¼Œå¾ˆéš¾ä¿è¯è‡ªå·±æ–°å¢çš„æ”¹åŠ¨æ˜¯å¦æœ‰å½±å“åˆ°å…¶ä»–éƒ¨åˆ†ï¼Œè¿™æ—¶å€™å•å…ƒæµ‹è¯•ç»™ä¸æˆ‘ä»¬çš„<code>PASS</code>æ˜¯éå¸¸è®©äººæ”¾å¿ƒçš„ã€‚</li></ul><h3 id="æé«˜ä»£ç å¯è¯»æ€§åŠå›¢é˜Ÿåä½œ" tabindex="-1">æé«˜ä»£ç å¯è¯»æ€§åŠå›¢é˜Ÿåä½œ <a class="header-anchor" href="#æé«˜ä»£ç å¯è¯»æ€§åŠå›¢é˜Ÿåä½œ" aria-label="Permalink to &quot;æé«˜ä»£ç å¯è¯»æ€§åŠå›¢é˜Ÿåä½œ&quot;">â€‹</a></h3><p>ä¸€å¥ç»å…¸çš„è¯â€œä»£ç æ˜¯å†™ç»™äººçœ‹çš„ï¼Œç»™æœºå™¨çš„æ˜¯äºŒè¿›åˆ¶â€ã€‚</p><p>å•å…ƒæµ‹è¯•æ˜¯ä»å¦ä¸€ä¸ªè§’åº¦æè¿°äº†å¯¹åº”ä»£ç çš„é€»è¾‘ï¼Œå¹¶ä¸”å…¶ä¸­<code>describe()</code>å’Œ<code>it()</code>é€šå¸¸ä¹ŸåŒ…å«éå¸¸å¯è¯»çš„æ³¨é‡Šï¼ˆè¿™é‡Œç¬”è€…ä¹ æƒ¯itè¿™ç§é£æ ¼ï¼Œä½†é“ç†éƒ½æ˜¯ä¸€æ ·çš„ï¼‰ï¼Œæ¯”å¦‚ï¼š</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;helloWorld&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;should return &quot;Hello World!&quot;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(appResolver.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">helloWorld</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello World!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>è¿™æ ·æˆ‘ä»¬æ˜¯ä¸æ˜¯å°±çŸ¥é“äº†è¿™ä¸ªå‡½æ•°æ˜¯è¿”å›<code>Helli World</code>å­—ç¬¦ä¸²çš„ä½œç”¨çš„ã€‚å½“å‡½æ•°å•å…ƒçš„é€»è¾‘æ¯”è¾ƒå¤æ‚æ—¶ï¼Œä¹Ÿé€šå¸¸ä¼šå¯¹åº”ç€éå¸¸å¤šçš„æµ‹è¯•ç”¨ä¾‹ï¼Œé€šè¿‡é˜…è¯»è¿™äº›æµ‹è¯•ç”¨ä¾‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥éå¸¸æ¸…æ¥šçš„äº†è§£åˆ°è¯¥å‡½æ•°å•å…ƒçš„è®¾è®¡è€…å½“æ—¶æ˜¯æ€ä¹ˆæ€è€ƒè¿™ä¸ªå‡½æ•°å¯¹åº”çš„åŠŸèƒ½ï¼ˆä»€ä¹ˆæ ·çš„è¾“å…¥å¯¹åº”ä»€ä¹ˆæ ·çš„è¾“å‡ºï¼‰</p><p>å›¢é˜Ÿåä½œä¸­éå¸¸é‡è¦çš„ä¸€ç‚¹å°±æ˜¯æ²Ÿé€šï¼Œè¿™æ˜¯ä¸æ˜¯è·Ÿæ³¨é‡Šå’ŒæŠ€æœ¯æ–‡æ¡£çš„ä½œç”¨ä¸€æ ·ï¼Œæé«˜äº†æ²Ÿé€šæ•ˆç‡ï¼Œä»¥åŠå½“å›¢é˜Ÿæ¢äººçš„æ—¶å€™ï¼Œæ–°äººä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹ğŸ™ƒğŸ™ƒğŸ™ƒ</p><h2 id="å•å…ƒæµ‹è¯•ç›¸å…³æ¦‚å¿µ" tabindex="-1">å•å…ƒæµ‹è¯•ç›¸å…³æ¦‚å¿µ <a class="header-anchor" href="#å•å…ƒæµ‹è¯•ç›¸å…³æ¦‚å¿µ" aria-label="Permalink to &quot;å•å…ƒæµ‹è¯•ç›¸å…³æ¦‚å¿µ&quot;">â€‹</a></h2><h3 id="å•å…ƒæµ‹è¯•çš„ä»»åŠ¡" tabindex="-1">å•å…ƒæµ‹è¯•çš„ä»»åŠ¡ <a class="header-anchor" href="#å•å…ƒæµ‹è¯•çš„ä»»åŠ¡" aria-label="Permalink to &quot;å•å…ƒæµ‹è¯•çš„ä»»åŠ¡&quot;">â€‹</a></h3><p>é¦–å…ˆï¼Œå•å…ƒæµ‹è¯•è¶Šæ—©è¶Šå¥½ï¼</p><p>ç„¶åï¼Œå¦‚ä¸‹æ˜¯æˆ‘ä»¬ç¼–å†™å•å…ƒæµ‹è¯•éœ€è¦åšçš„äº‹æƒ…ï¼š</p><ol><li><strong>æ¨¡å—æ¥å£æµ‹è¯•</strong>ï¼šæ¯”å¦‚å‡½æ•°ä½œä¸ºä¸€ä¸ªæ¨¡å—ï¼Œå®ƒçš„è¾“å…¥è¾“å‡ºå°±æ˜¯å®ƒçš„æ¥å£ï¼›é¢å‘å¯¹è±¡ä¸­ï¼Œä¹Ÿå¯ä»¥ä¸€ä¸ªç±»ä½œä¸ºä¸€ä¸ªæ¨¡å—å•å…ƒï¼Œé‚£ä¹ˆæ­¤æ—¶å®ƒçš„æ„é€ å‡½æ•°ä»¥åŠ<code>public</code>å±æ€§å’Œæ–¹æ³•å°±æ˜¯æ‰€è°“çš„æ¥å£ã€‚ç®€å•æ¥è¯´å°±æ˜¯è¯¥æ¨¡å—å•å…ƒä¸å…¶ä»–æ¨¡å—äº¤äº’çš„åœ°æ–¹ã€‚</li><li><strong>æ¨¡å—å±€éƒ¨æ•°æ®ç»“æ„æµ‹è¯•</strong>ï¼šä¿è¯ä¸´æ—¶å­˜å‚¨åœ¨æ¨¡å—å†…çš„ç¨‹åºæ‰§è¡Œè¿‡ç¨‹å®Œæ•´ã€æ­£ç¡®</li><li><strong>æ¨¡å—è¾¹ç•Œæ¡ä»¶æµ‹è¯•</strong>ï¼šé‡‡ç”¨è¾¹ç•Œå€¼åˆ†ææŠ€æœ¯</li><li><strong>æ¨¡å—ä¸­æ‰€æœ‰ç‹¬ç«‹æ‰§è¡Œé€šè·¯æµ‹è¯•</strong>ï¼šä¿è¯æ¨¡å—ä¸­æ¯æ¡è¯­å¥è‡³å°‘æ‰§è¡Œä¸€æ¬¡</li><li><strong>æ¨¡å—ä¸­çš„å„æ¡é”™è¯¯å¤„ç†é€šè·¯æµ‹è¯•</strong></li></ol><h3 id="å•å…ƒæµ‹è¯•è¦†ç›–ç‡" tabindex="-1">å•å…ƒæµ‹è¯•è¦†ç›–ç‡ <a class="header-anchor" href="#å•å…ƒæµ‹è¯•è¦†ç›–ç‡" aria-label="Permalink to &quot;å•å…ƒæµ‹è¯•è¦†ç›–ç‡&quot;">â€‹</a></h3><p>å•å…ƒæµ‹è¯•è¦†ç›–ç‡ï¼ˆUnit Test Coverageï¼‰æ˜¯ä¸€ç§è¡¡é‡è½¯ä»¶æµ‹è¯•è´¨é‡çš„æŒ‡æ ‡ï¼Œå®ƒè¡¨ç¤ºæµ‹è¯•ç”¨ä¾‹è¦†ç›–ä»£ç ä¸­çš„å“ªäº›éƒ¨åˆ†ã€‚ä»¥ä¸‹æ˜¯å•å…ƒæµ‹è¯•è¦†ç›–ç‡çš„ç›¸å…³æ¦‚å¿µï¼š</p><ul><li><strong>è¯­å¥è¦†ç›–ç‡ï¼ˆStatement Coverageï¼‰</strong>ï¼šè¯­å¥è¦†ç›–ç‡æ˜¯æŒ‡æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œæ—¶è¦†ç›–äº†ä»£ç ä¸­çš„å“ªäº›è¯­å¥ã€‚å¦‚æœä¸€ä¸ªè¯­å¥è¢«è‡³å°‘ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œè¿‡ï¼Œé‚£ä¹ˆå®ƒå°±è¢«è®¤ä¸ºæ˜¯è¢«è¦†ç›–çš„ã€‚è¯­å¥è¦†ç›–ç‡è¶Šé«˜ï¼Œè¡¨ç¤ºæµ‹è¯•ç”¨ä¾‹è¦†ç›–çš„ä»£ç è¶Šå¤šï¼Œæµ‹è¯•è´¨é‡è¶Šé«˜ã€‚</li><li><strong>åˆ†æ”¯è¦†ç›–ç‡ï¼ˆBranch Coverageï¼‰</strong>ï¼šåˆ†æ”¯è¦†ç›–ç‡æ˜¯æŒ‡æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œæ—¶è¦†ç›–äº†ä»£ç ä¸­çš„å“ªäº›åˆ†æ”¯ã€‚å¦‚æœä¸€ä¸ªåˆ†æ”¯è¢«è‡³å°‘ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œè¿‡ï¼Œ<strong>è¯¥åˆ†æ”¯çš„å–çœŸå’Œå–å‡æ¡ä»¶éƒ½æ‰§è¡Œè¿‡</strong>ï¼Œé‚£ä¹ˆå®ƒå°±è¢«è®¤ä¸ºæ˜¯è¢«è¦†ç›–çš„ã€‚åˆ†æ”¯è¦†ç›–ç‡è¶Šé«˜ï¼Œè¡¨ç¤ºæµ‹è¯•ç”¨ä¾‹è¦†ç›–çš„ä»£ç åˆ†æ”¯è¶Šå¤šï¼Œæµ‹è¯•è´¨é‡è¶Šé«˜ã€‚</li><li><strong>æ¡ä»¶è¦†ç›–ç‡ï¼ˆCondition Coverageï¼‰</strong>ï¼šæ¡ä»¶è¦†ç›–ç‡æ˜¯æŒ‡æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œæ—¶è¦†ç›–äº†ä»£ç ä¸­çš„å“ªäº›æ¡ä»¶ã€‚å¦‚æœä¸€ä¸ªæ¡ä»¶è¢«è‡³å°‘ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œè¿‡ï¼Œ<strong>å¹¶ä¸”è¦†ç›–äº†è¯¥æ¡ä»¶çš„æ‰€æœ‰å¯èƒ½å–å€¼</strong>ï¼Œé‚£ä¹ˆå®ƒå°±è¢«è®¤ä¸ºæ˜¯è¢«è¦†ç›–çš„ã€‚æ¡ä»¶è¦†ç›–ç‡è¶Šé«˜ï¼Œè¡¨ç¤ºæµ‹è¯•ç”¨ä¾‹è¦†ç›–çš„ä»£ç æ¡ä»¶è¶Šå¤šï¼Œæµ‹è¯•è´¨é‡è¶Šé«˜ã€‚</li><li><strong>è·¯å¾„è¦†ç›–ç‡ï¼ˆPath Coverageï¼‰</strong>ï¼šè·¯å¾„è¦†ç›–ç‡æ˜¯æŒ‡æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œæ—¶è¦†ç›–äº†ä»£ç ä¸­çš„å“ªäº›è·¯å¾„ã€‚è·¯å¾„æ˜¯æŒ‡ä»£ç æ‰§è¡Œçš„æ‰€æœ‰å¯èƒ½åºåˆ—ã€‚å¦‚æœ<strong>ä¸€ä¸ªè·¯å¾„è¢«è‡³å°‘ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œè¿‡</strong>ï¼Œé‚£ä¹ˆå®ƒå°±è¢«è®¤ä¸ºæ˜¯è¢«è¦†ç›–çš„ã€‚è·¯å¾„è¦†ç›–ç‡è¶Šé«˜ï¼Œè¡¨ç¤ºæµ‹è¯•ç”¨ä¾‹è¦†ç›–çš„ä»£ç è·¯å¾„è¶Šå¤šï¼Œæµ‹è¯•è´¨é‡è¶Šé«˜ã€‚</li></ul><p>ç¬¬ä¸€ç‚¹å°±ä¸è°ˆäº†ï¼ŒäºŒä¸‰å››å¯èƒ½å¤§å®¶è¿˜æœ‰ä¸€ç‚¹æ··æ·†ï¼Œè¿™é‡Œç®€å•è§£é‡Šä¸€ä¸‹ï¼š</p><p>æ¯”å¦‚æˆ‘ä»¬çš„å‡½æ•°å•å…ƒä¸­æœ‰è¿™æ ·ä¸¤ä¸ªåˆ†æ”¯æ¡ä»¶ï¼š</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">B</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">C</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">A</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> B</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;A &amp;&amp; B...&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">C</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;C || D...&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ç”»ä¸ªæµç¨‹å›¾ï¼Œæ›´åŠ æ¸…æ™°çš„è§‚å¯Ÿè¿™ä¸ªå‡½æ•°å•å…ƒçš„é€»è¾‘ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://oss.justin3go.com/blogs/%E5%88%86%E6%94%AF%E8%A6%86%E7%9B%96%E6%9D%A1%E4%BB%B6%E8%A6%86%E7%9B%96%E8%B7%AF%E5%BE%84%E8%A6%86%E7%9B%96%E6%BC%94%E7%A4%BA.png" alt="" loading="lazy"></p><p><strong>1ï¼‰åˆ†æ”¯è¦†ç›–</strong></p><p>ä½¿å…¶åˆ†æ”¯è¦†ç›–çš„æµ‹è¯•ç”¨ä¾‹å¯ä»¥æ˜¯ï¼š</p><ul><li>æµ‹è¯•ç”¨ä¾‹1ï¼š<code>A = true; B = true; C = true; D = false</code>ï¼Œæ­¤æ—¶<code>A &amp;&amp; B = true; C || D = true</code>å³æ‰€æœ‰åˆ†æ”¯éƒ½å…¨éƒ¨æ‰§è¡Œï¼›</li><li>æµ‹è¯•ç”¨ä¾‹2ï¼š<code>A = false; B = true; C = false; D = false</code>ï¼Œæ­¤æ—¶<code>A &amp;&amp; B = false; C || D = false</code>å³æ‰€æœ‰åˆ†æ”¯éƒ½æ²¡æ‰§è¡Œï¼›</li></ul><p>è¿™æ ·ï¼Œæ¯ä¸ªåˆ†æ”¯éƒ½æœ‰è¢«æ‰§è¡Œçš„æƒ…å†µä»¥åŠä¸è¢«æ‰§è¡Œçš„æƒ…å†µï¼Œæ­¤æ—¶å·²ç»è¾¾åˆ°äº†åˆ†æ”¯è¦†ç›–ï¼›</p><p><strong>2ï¼‰æ¡ä»¶è¦†ç›–</strong></p><ul><li>åˆ†æ”¯è¦†ç›–æ˜¯ä½¿å…¶<code>if(æ•´ä½“æ¡ä»¶)</code>ä¸­çš„<code>æ•´ä½“æ¡ä»¶</code>å–çœŸä¸€æ¬¡ï¼Œå–å‡ä¸€æ¬¡å°±å¯ä»¥äº†ï¼Œå³ä»¥åˆ†æ”¯ä¸ºä¸€ä¸ªç²’åº¦ï¼›</li><li>è€Œæ¡ä»¶è¦†ç›–æ˜¯ä½¿å…¶<code>if(æ¡ä»¶1ã€æ¡ä»¶2...)</code>ä¸­çš„æ‰€æœ‰æ¡ä»¶éƒ½è¦å–çœŸå–å‡ä¸€æ¬¡ï¼Œå³ä»¥åˆ†æ”¯ä¸­æ¯ä¸ªå•ç‹¬æ¡ä»¶ä¸ºä¸€ä¸ªç²’åº¦ï¼›</li></ul><p>ä½¿å…¶æ¡ä»¶è¦†ç›–çš„æµ‹è¯•ç”¨ä¾‹å¯ä»¥æ˜¯ï¼š</p><ul><li>æµ‹è¯•ç”¨ä¾‹1ï¼š<code>A = true; B = true; C = true; D = true</code>ï¼Œå³æ‰€æœ‰æ¡ä»¶éƒ½ä¸ºçœŸï¼›</li><li>æµ‹è¯•ç”¨ä¾‹2ï¼š<code>A = false; B = false; C = false; D = false</code>ï¼Œå³æ‰€æœ‰æ¡ä»¶éƒ½ä¸ºå‡ï¼›</li></ul><p>3ï¼‰è·¯å¾„è¦†ç›–</p><p>ä¸Šè¿°ä¸¤ç§è¦†ç›–æ–¹å¼æ²¡æœ‰å¦‚ä¸‹æ‰§è¡Œæƒ…å†µï¼š</p><ul><li>åˆ†æ”¯1æ‰§è¡Œï¼Œåˆ†æ”¯2ä¸æ‰§è¡Œï¼›</li><li>åˆ†æ”¯1ä¸æ‰§è¡Œï¼Œåˆ†æ”¯1æ‰§è¡Œï¼›</li></ul><p>å³ä¸€ä¸ªè¾¾åˆ°è·¯å¾„è¦†ç›–çš„æµ‹è¯•ç”¨ä¾‹åº”è¯¥åŒ…å«å¦‚ä¸‹æƒ…å†µï¼š</p><table tabindex="0"><thead><tr><th>åˆ†æ”¯1</th><th>åˆ†æ”¯2</th></tr></thead><tbody><tr><td>æ‰§è¡Œ</td><td>æ‰§è¡Œ</td></tr><tr><td>æ‰§è¡Œ</td><td>ä¸æ‰§è¡Œ</td></tr><tr><td>ä¸æ‰§è¡Œ</td><td>æ‰§è¡Œ</td></tr><tr><td>ä¸æ‰§è¡Œ</td><td>ä¸æ‰§è¡Œ</td></tr></tbody></table><p>ç¬”è€…è®¤ä¸ºï¼Œè¿™äº›è™½ç„¶æ˜¯è§„èŒƒï¼ŒæŒ‡æ ‡ï¼Œä½†ä»…ä»…ä½œä¸ºå‚è€ƒå’Œæµç¨‹åŒ–ä½¿ç”¨ã€‚å¥½çš„å•æµ‹ç”¨ä¾‹åº”è¯¥æ˜¯åªè¦è¿™ä¸ªå‡½æ•°å•å…ƒå¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹åªè¦æ‰§è¡Œé€šè¿‡äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±ä¸€å®šæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œè¿™æ‰æ˜¯ç»ˆæç›®æ ‡ã€‚</p><h2 id="nestä¸­é…ç½®jest" tabindex="-1">Nestä¸­é…ç½®Jest <a class="header-anchor" href="#nestä¸­é…ç½®jest" aria-label="Permalink to &quot;Nestä¸­é…ç½®Jest&quot;">â€‹</a></h2><p>ä½ å¯ä»¥å…ˆçœ‹çœ‹è¿™é‡Œ<a href="https://docs.nestjs.com/fundamentals/testing#installation" target="_blank" rel="noreferrer">Nestå®˜æ–¹æ–‡æ¡£-å•å…ƒæµ‹è¯•</a></p><p>ç„¶åä½ å¯ä»¥åœ¨package.jsoné‡Œé¢è¿›è¡Œä¸€äº›å•æµ‹çš„è‡ªå®šä¹‰é…ç½®ï¼Œå¦‚ä¸‹æ˜¯ç¬”è€…çš„å•æµ‹é…ç½®ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	// ç•¥...</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;jest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;moduleFileExtensions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;ts&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;rootDir&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;moduleNameMapper&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;^src/(.*)$&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;rootDir&gt;/src/$1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;testRegex&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.spec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.ts$&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;transform&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;^.+\\.(t|j)s$&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts-jest&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;collectCoverageFrom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;**/*.service.ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;**/utils/*.ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;!**/*.interface.ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;!**/gql-config.service.ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;!**/node_modules/**&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;coverageDirectory&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;../coverage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;testEnvironment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>å…¶ä¸­æœ‰ä¸¤ç‚¹å€¼å¾—æä¸€ä¸‹ï¼š</p><ol><li><code>testRegex</code>ï¼šä»£è¡¨å“ªäº›ä¸ºæµ‹è¯•æ–‡ä»¶ï¼Œå½“ä½ <code>npm run test</code>æˆ–è€…<code>jest</code>æ—¶ï¼Œä¼šæ‰§è¡Œè¿™äº›è¢«è¯†åˆ«çš„æµ‹è¯•æ–‡ä»¶ï¼Œé€šå¸¸åœ¨nestå°±æ˜¯<code>XX.spec.ts</code>ä¸ºæµ‹è¯•æ–‡ä»¶ï¼›</li><li><code>collectCoverageFrom</code>ï¼šä»£è¡¨å•æµ‹è¦†ç›–ç‡ä¼šè€ƒè™‘å“ªäº›æ–‡ä»¶ï¼Œå½“ä½ <code>npm run test:cov</code>ï¼ˆè‡ªå®šä¹‰è„šæœ¬ï¼‰æˆ–è€…<code>jest --coverage</code>æ—¶ï¼Œä¼šè€ƒè™‘è¯†åˆ«çš„æ–‡ä»¶å¹¶å½¢æˆå•å…ƒæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šï¼›</li></ol><p>è¿™é‡Œç¬”è€…ç”±äºä¸šåŠ¡é€»è¾‘æ˜¯å…¨éƒ¨å†™åœ¨Serviceå±‚é‡Œé¢ï¼Œå…³äºåˆ†å±‚çš„ä½œç”¨ï¼Œå¯ä»¥æŸ¥çœ‹ç¬”è€…ä¹‹å‰å†™çš„è¿™ç¯‡æ–‡ç« â€”â€”<a href="https://justin3go.com/%E5%8D%9A%E5%AE%A2/2023/01/25%E6%B5%85%E8%B0%88NestJS%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3.html" target="_blank" rel="noreferrer">æµ…è°ˆNestJSè®¾è®¡æ€æƒ³ï¼ˆåˆ†å±‚ã€IOCã€AOPï¼‰</a></p><p>æ‰€ä»¥ä¸ºäº†ä¸€å®šç¨‹åº¦å‡å°‘å·¥ä½œé‡ï¼Œè¿™é‡Œç¬”è€…ä»…å¯¹Serviceæ–‡ä»¶è¿›è¡Œè€ƒè™‘å•å…ƒæµ‹è¯•ï¼Œ<code>Controller</code>å±‚ä»¥åŠ<code>Resolver</code>å±‚åŸºæœ¬éƒ½æ˜¯é€ä¼ ï¼Œæš‚ä¸è€ƒè™‘å•æµ‹ï¼›</p><p>ç„¶åç”±äº<code>utils/</code>ä¸‹çš„æ–‡ä»¶ä¸€èˆ¬éƒ½æ˜¯å·¥å…·å‡½æ•°ï¼Œæ‰€ä»¥ä¹Ÿä¸€å®šè¦è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œè€Œ<code>!</code>ç¬¦å·ä»£è¡¨ä¸åŒ¹é…å“ªäº›æ–‡ä»¶ï¼Œæ¯”å¦‚<code>.interface.ts</code>åç¼€çš„æ–‡ä»¶æ˜¯nestä¸­çš„ç±»å‹æ–‡ä»¶ï¼Œæ‰€ä»¥ä¸éœ€è¦åœ¨å•æµ‹è¦†ç›–ä¸­è€ƒè™‘</p><p>æœ€åï¼Œè¯·æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µè¿›è¡Œé…ç½®ï¼Œè¿™é‡Œä»…ä¾›å‚è€ƒï¼Œè¯¦ç»†é…ç½®é¡¹å¯è§<a href="https://jestjs.io/docs/configuration" target="_blank" rel="noreferrer">Jestå®˜ç½‘æ–‡æ¡£-é…ç½®</a></p><h2 id="jestä¸­mock-prisma" tabindex="-1">Jestä¸­Mock Prisma <a class="header-anchor" href="#jestä¸­mock-prisma" aria-label="Permalink to &quot;Jestä¸­Mock Prisma&quot;">â€‹</a></h2><p><a href="https://www.prisma.io/" target="_blank" rel="noreferrer">Prisma</a>æ˜¯ç¬”è€…åœ¨Neståº”ç”¨ä¸­ä½¿ç”¨çš„ä¸€ä¸ªORMæ¡†æ¶ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåœ¨æ‰§è¡Œå•æµ‹çš„æ—¶å€™ï¼Œä¸åº”è¯¥æ‰§è¡Œæ•°æ®åº“æ“ä½œå’Œå¤–éƒ¨è¯·æ±‚çš„ä¸€äº›æ“ä½œï¼ŒåŸå› å¦‚ä¸‹ï¼š</p><ul><li>å•å…ƒæµ‹è¯•åº”è¯¥ä¸“æ³¨äºæµ‹è¯•ä»£ç æœ¬èº«ï¼Œè€Œä¸æ˜¯ä¾èµ–äºå¤–éƒ¨èµ„æºæˆ–ç¯å¢ƒã€‚æ‰§è¡Œæ•°æ®åº“æ“ä½œå’Œå¤–éƒ¨è¯·æ±‚æ“ä½œä¼šä½¿å•å…ƒæµ‹è¯•å˜å¾—å¤æ‚å’Œä¸å¯é ï¼Œå› ä¸ºè¿™äº›æ“ä½œå¯èƒ½ä¼šå—åˆ°å¤–éƒ¨ç¯å¢ƒçš„å½±å“ï¼Œä¾‹å¦‚ç½‘ç»œè¿æ¥ã€æ•°æ®åº“çŠ¶æ€ç­‰ç­‰ã€‚</li><li>æ‰§è¡Œæ•°æ®åº“æ“ä½œå’Œå¤–éƒ¨è¯·æ±‚æ“ä½œè¿˜ä¼šå¯¼è‡´å•å…ƒæµ‹è¯•å˜å¾—ç¼“æ…¢å’Œä¸å¯é‡å¤ã€‚ <ul><li>å¦‚æœæµ‹è¯•ä¾èµ–äºå¤–éƒ¨èµ„æºï¼Œé‚£ä¹ˆæµ‹è¯•çš„é€Ÿåº¦ä¼šå˜å¾—å¾ˆæ…¢ï¼Œå› ä¸ºéœ€è¦å»ºç«‹è¿æ¥ã€è¯»å–æ•°æ®ç­‰ç­‰ã€‚</li><li>å¦‚æœæµ‹è¯•ä¾èµ–äºå¤–éƒ¨èµ„æºï¼Œé‚£ä¹ˆæµ‹è¯•çš„ç»“æœå¯èƒ½ä¼šå—åˆ°å¤–éƒ¨èµ„æºçš„å½±å“ï¼Œä¾‹å¦‚æ•°æ®åº“ä¸­çš„æ•°æ®ã€ç½‘ç»œè¿æ¥ç­‰ç­‰ï¼Œè¿™ä¼šå¯¼è‡´æµ‹è¯•ç»“æœä¸å¯é‡å¤ã€‚</li></ul></li></ul><p>å†æ¥ç†è§£ä¸€ä¸‹ï¼Œå°±ä¸€å¥è¯ï¼š<strong>å¯¹è‡ªå·±ç¼–å†™çš„ä¸šåŠ¡ä»£ç è´Ÿè´£å°±è¡Œäº†</strong>ã€‚</p><p>æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦mock Prismaçš„æ“ä½œä»¥é¿å…å¯¹æ•°æ®åº“çš„æ“ä½œï¼Œ<a href="https://www.prisma.io/docs/guides/testing/unit-testing#example-unit-tests" target="_blank" rel="noreferrer">Prismaçš„å®˜æ–¹æ¨è</a>æ˜¯å¦‚ä¸‹é…ç½®ï¼š</p><p>å…ˆå®‰è£…ï¼š</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jest-mock-extended@2.0.4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥è¿™æ ·ç¼–å†™å•å…ƒæµ‹è¯•ä»£ç ï¼š</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Test, TestingModule } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/testing&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { UsersService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./users.service&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PrismaClient } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@prisma/client&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { mockDeep, DeepMockProxy } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;jest-mock-extended&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { UpdateUserInput } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./dto/update-user.input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PrismaService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;nestjs-prisma&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;UsersService&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> service</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UsersService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prisma</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DeepMockProxy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PrismaClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  beforeEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestingModule</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Test.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createTestingModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      providers: [UsersService, PrismaService],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">overrideProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PrismaService)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockDeep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PrismaClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">compile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    service </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(UsersService);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    prisma </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PrismaService);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;updateUser&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;return new user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> userId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> newUserData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UpdateUserInput</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { nickName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Justin3go&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      prisma.user.update.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockResolvedValueOnce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a new user entity&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(service.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updateUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId, newUserData)).resolves.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;a new user entity&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h2 id="jestç¼–å†™å•æµ‹ç”¨ä¾‹" tabindex="-1">Jestç¼–å†™å•æµ‹ç”¨ä¾‹ <a class="header-anchor" href="#jestç¼–å†™å•æµ‹ç”¨ä¾‹" aria-label="Permalink to &quot;Jestç¼–å†™å•æµ‹ç”¨ä¾‹&quot;">â€‹</a></h2><p>å¾—ç›ŠäºJestçš„å„ä¸ªå‡½æ•°å‘½åéå¸¸è§„èŒƒï¼Œä½ è‡ªå·±<code>dot</code>ä¸€ä¸‹ï¼Œæ ¹æ®IDEçš„æç¤ºåŸºæœ¬å°±çŸ¥é“æ€ä¹ˆåšäº†ï¼Œå…·ä½“çœ‹çœ‹<a href="https://jestjs.io/docs/getting-started" target="_blank" rel="noreferrer">Jestæ–‡æ¡£</a></p><p>æ²¡å•¥è¯´çš„ï¼Œè´´ä¸€éƒ¨åˆ†ä»£ç ä»…ä¾›å‚è€ƒï¼š</p><p>è¿™éƒ¨åˆ†ä»£ç çš„ä½œç”¨æ˜¯å°ç¨‹åºç™»å½•æ³¨å†Œï¼Œä»¥åŠä½¿ç”¨JWTè¿›è¡Œæˆæƒçš„<code>Auth.service</code></p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// auth.service.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PrismaService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;nestjs-prisma&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { User } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@prisma/client&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Injectable, UnauthorizedException } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/common&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ConfigService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/config&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { JwtService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/jwt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Token } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./models/token.model&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { SecurityConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;src/common/configs/config.interface&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  code2SessionAPI,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  code2SessionParamsI,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  code2SessionResI,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  code2SessionTimeout,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;src/common/apis/wechat.api&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { HttpService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/axios&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { catchError, lastValueFrom, map, of, timeout } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { LoginAndAutoSignUpInput } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./dto/loginAndAutoSignUp.input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Injectable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AuthService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> jwtService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JwtService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> prisma</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PrismaService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> configService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ConfigService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> httpService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HttpService</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loginAndAutoSignUp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LoginAndAutoSignUpInput</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Token</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> code2SessionRes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> code2SessionResI</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">code2Session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(code);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">session_key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">openid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">errmsg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> code2SessionRes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">??</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">session_key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">openid) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`Wechat login failed: ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">errmsg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;null&#39;}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // find user</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.prisma.user.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findUnique</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      where: { openId: openid },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // sign up</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // create user</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.prisma.user.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        data: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          openId: openid,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateTokens</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      userId: user.id,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å°ç¨‹åºç™»å½•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> code2Session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">code2SessionResI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> appid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.configService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;APP_ID&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">appid) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;you should add &lt;APP_ID=XXX&gt; in .env file&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> secret</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.configService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;APP_SECRET&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">secret) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;you should add &lt;APP_SECRET=XXX&gt; in .env file&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> code2SessionParamsI</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      appid,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      secret,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      js_code: code,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      grant_type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;authorization_code&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lastValueFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.httpService</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(code2SessionAPI, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          params,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.data),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          timeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(code2SessionTimeout),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          catchError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`Bad HttpService: ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  validateUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">userId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.prisma.user.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findUnique</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ where: { id: userId } });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getUserFromToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">token</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> decodeToken</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.jwtService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(token);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> decodeToken </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> decodeToken[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;userId&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.prisma.user.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findUnique</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ where: { id } });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  generateTokens</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">payload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">userId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Token</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      accessToken: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateAccessToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(payload),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      refreshToken: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateRefreshToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(payload),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateAccessToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">payload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">userId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.jwtService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(payload);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateRefreshToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">payload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">userId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> securityConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.configService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SecurityConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;security&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.jwtService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(payload, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      secret: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.configService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;JWT_REFRESH_SECRET&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      expiresIn: securityConfig?.refreshIn,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  refreshToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">token</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">userId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.jwtService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">verify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(token, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        secret: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.configService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;JWT_REFRESH_SECRET&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateTokens</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        userId,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (e) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UnauthorizedException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br></div></div><p>å•æµ‹ä»£ç <code>auth.service.spec.ts</code>ï¼š</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Test, TestingModule } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/testing&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { AuthService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./auth.service&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PrismaClient } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@prisma/client&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { mockDeep, DeepMockProxy } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;jest-mock-extended&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PrismaService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;nestjs-prisma&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { JwtService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/jwt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ConfigService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/config&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { HttpModule, HttpService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/axios&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Observable } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { UnauthorizedException } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/common&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AuthService&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> service</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AuthService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prisma</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DeepMockProxy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PrismaClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jwt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JwtService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ConfigService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> http</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HttpService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  beforeEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // https://stackoverflow.com/questions/63208308/how-to-fix-axios-instance-token-at-index-0-is-available-in-the-module-context</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestingModule</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Test.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createTestingModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      imports: [HttpModule],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      providers: [AuthService, PrismaService, JwtService, ConfigService],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">overrideProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PrismaService)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockDeep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PrismaClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">compile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    service </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(AuthService);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    prisma </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PrismaService);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    jwt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(JwtService);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ConfigService);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    http </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(HttpService);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;loginAndAutoSignUp()&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Wechat login failed, throw Error&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      service.code2Session </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({});</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(service.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loginAndAutoSignUp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ code: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;code&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })).rejects.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toThrow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sign up, should execute prisma.user.create()&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      service.code2Session </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        session_key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;session_key&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        openid: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;openid&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      service.generateTokens </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;generateTokens&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      prisma.user.findUnique.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockResolvedValueOnce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      prisma.user.create.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockResolvedValueOnce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ id: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;id&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> service.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loginAndAutoSignUp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ code: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;code&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(prisma.user.create).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toHaveBeenCalled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;login, correct returns&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      service.code2Session </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        session_key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;session_key&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        openid: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;openid&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      service.generateTokens </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;generateTokens&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      prisma.user.findUnique.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockResolvedValueOnce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ id: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;id&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(service.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loginAndAutoSignUp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ code: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;code&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })).resolves.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;&lt;generateTokens&gt;&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;code2Session()&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;no appid, throw Error&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      config.get </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockImplementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;APP_ID&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;APP_SECRET&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&lt;APP_SECRET&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(service.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">code2Session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;code&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).rejects.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toThrow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;no app secret, throw Error&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      config.get </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockImplementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;APP_ID&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&lt;APP_ID&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;APP_SECRET&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(service.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">code2Session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;code&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).rejects.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toThrow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;should return res&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      config.get </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;env&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> observable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">observer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        observer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;final res&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        observer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      http.get </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        pipe: jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(observable),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(service.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">code2Session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;code&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).resolves.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;final res&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;validateUser()&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;should returns&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      prisma.user.findUnique.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockResolvedValueOnce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(service.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">validateUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;userId&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).resolves.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;getUserFromToken()&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;jwt decode null, not throw&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      jwt.decode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      prisma.user.findUnique.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockResolvedValueOnce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(service.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUserFromToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;token&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).resolves.not.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toThrow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;generateTokens()&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;should returns Object&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      config.get </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;env&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      jwt.sign </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValueOnce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;accessToken&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValueOnce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;refreshToken&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(service.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateTokens</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ userId: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;userId&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toEqual</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        accessToken: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;accessToken&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        refreshToken: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;refreshToken&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;refreshToken()&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;verify fail, throw Error&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      jwt.verify </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      config.get </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;env&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      service.generateTokens </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;token&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        service.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">refreshToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;token&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toEqual</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UnauthorizedException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;verify success, returns token&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      jwt.verify </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ userId: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;userId&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      config.get </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;env&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      service.generateTokens </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mockReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;token&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(service.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">refreshToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;token&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;token&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br></div></div><p>è¿™é‡Œæ˜¯ç”¨çš„<code>describe it</code>é£æ ¼ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿å‹å–„æŒ‡æ­£ï¼Œæˆ‘ä¼šåŠæ—¶ä¿®æ”¹...</p><p>VSCodeå®‰è£…<code>Jest Runner</code>æ’ä»¶ï¼Œè¿è¡Œå¦‚ä¸Šå•å…ƒæµ‹è¯•æˆªå›¾å¦‚ä¸‹ï¼š</p><p><img src="https://oss.justin3go.com/blogs/Pasted%20image%2020230501162511.png" alt="" loading="lazy"></p><p><img src="https://oss.justin3go.com/blogs/Pasted%20image%2020230501162550.png" alt="" loading="lazy"></p><h2 id="ciä¸­å¢åŠ å•æµ‹" tabindex="-1">CIä¸­å¢åŠ å•æµ‹ <a class="header-anchor" href="#ciä¸­å¢åŠ å•æµ‹" aria-label="Permalink to &quot;CIä¸­å¢åŠ å•æµ‹&quot;">â€‹</a></h2><p>ä¸ºäº†åœ¨æäº¤ä»£ç ååœ¨Githubè‡ªåŠ¨æ‰§è¡Œå•å…ƒæµ‹è¯•ï¼Œä»¥è¾¾åˆ°æŒç»­é›†æˆä¸­çš„è‡ªåŠ¨åŒ–æµ‹è¯•çš„ç›®çš„ï¼Œç¬”è€…å¢åŠ äº†å¦‚ä¸‹é…ç½®ï¼š</p><p>æ ¹ç›®å½•ä¸‹<code>/.github/workflows/ci.yml</code>ï¼š</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Node.js CI</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    branches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  pull_request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    branches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ubuntu-latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    strategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      matrix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        node-version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/checkout@v2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Use Node.js ${{ matrix.node-version }}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/setup-node@v2</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          node-version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">${{ matrix.node-version }}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;npm&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm install</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm run lint</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm run build</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm test</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>å½“ç„¶ï¼Œå®é™…æƒ…å†µä¸åŒä¹Ÿéœ€è‡ªè¡Œä¿®æ”¹ï¼Œå¦‚æœæ˜¯Githubï¼Œå¯ä»¥å‚è€ƒå¦‚ä¸‹æ–‡æ¡£è¿›è¡Œè‡ªå®šä¹‰â€”â€”<a href="https://docs.github.com/zh/actions/quickstart" target="_blank" rel="noreferrer">GitHub Actions å¿«é€Ÿå…¥é—¨</a></p><h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to &quot;æœ€å&quot;">â€‹</a></h2><p>ç¥å„ä½ç¨‹åºğŸ’ä»¬äº”ä¸€å¿«ä¹ï¼Œäº‰å–åŠ³åŠ¨èŠ‚å¯ä»¥ä¸åŠ³åŠ¨/(ã„’oã„’)/~~</p><p><img src="https://oss.justin3go.com/blogs/QQ%E5%9B%BE%E7%89%8720230501162211.jpg" alt="" loading="lazy"></p><h2 id="å‚è€ƒ" tabindex="-1">å‚è€ƒ <a class="header-anchor" href="#å‚è€ƒ" aria-label="Permalink to &quot;å‚è€ƒ&quot;">â€‹</a></h2><ul><li><a href="https://stackoverflow.com/questions/70228893/testing-a-nestjs-service-that-uses-prisma-without-actually-accessing-the-databas" target="_blank" rel="noreferrer">Testing a NestJS Service that uses Prisma without actually accessing the database</a></li><li><a href="https://stackoverflow.com/questions/63208308/how-to-fix-axios-instance-token-at-index-0-is-available-in-the-module-context" target="_blank" rel="noreferrer">How to fix AXIOS_INSTANCE_TOKEN at index [0] is available in the Module context</a></li><li><a href="https://blog.51cto.com/u_15127626/3703456" target="_blank" rel="noreferrer">è½¯ä»¶æµ‹è¯•ä¸­æ¡ä»¶è¦†ç›–ï¼Œè·¯å¾„è¦†ç›–ï¼Œè¯­å¥è¦†ç›–ï¼Œåˆ†æ”¯è¦†ç›–çš„åŒºåˆ«</a></li></ul></div></div></main><footer class="VPDocFooter" data-v-f83d3c76 data-v-e09e926b><!--[--><!--[--><!--[--><!--[--><!--[--><div class="weiz-public" data-v-7e5c4ce7><div class="copyright" data-v-7e5c4ce7><div class="copyright__author" data-v-7e5c4ce7><span class="copyright-meta" data-v-7e5c4ce7><i class="weiz-icon weiz-icon-user main" data-v-7e5c4ce7></i>æ–‡ç« ä½œè€…: </span><span class="copyright-info" data-v-7e5c4ce7><a href="" data-v-7e5c4ce7>zhangjunjie</a></span></div><div class="copyright__type" data-v-7e5c4ce7><span class="copyright-meta" data-v-7e5c4ce7><i class="weiz-icon weiz-icon-link main" data-v-7e5c4ce7></i>æ–‡ç« é“¾æ¥: </span><span class="copyright-info" data-v-7e5c4ce7><a href="" data-v-7e5c4ce7></a></span></div><div class="copyright__notice" data-v-7e5c4ce7><span class="copyright-meta" data-v-7e5c4ce7><i class="weiz-icon weiz-icon-cc main" data-v-7e5c4ce7></i>ç‰ˆæƒå£°æ˜: </span><span class="copyright-info" data-v-7e5c4ce7> æœ¬ç«™æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" data-v-7e5c4ce7>BY-NC-SA 4.0</a> è®¸å¯åè®®ï¼Œ è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="" data-v-7e5c4ce7>false</a>ï¼ </span></div><i class="copyright-symbol weiz-icon weiz-icon-public main" data-v-7e5c4ce7></i></div></div><div class="post-tags" data-v-7e5c4ce7><div class="tags-list" data-v-7e5c4ce7><!--[--><!--]--></div></div><!--]--><!--]--><!--]--><!--]--><!--]--><div class="edit-info" data-v-e09e926b><div class="edit-link" data-v-e09e926b><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/Justin3go/justin3go.github.io/edit/master/docs/åšå®¢/2023/05/01Nestçš„testä¸­çš„bestæ˜¯Jestæ¡†æ¶.md" target="_blank" rel="noreferrer" data-v-e09e926b><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e09e926b></span> åœ¨GitHubä¸Šç¼–è¾‘æ­¤é¡µ<!--]--></a></div><div class="last-updated" data-v-e09e926b><p class="VPLastUpdated" data-v-e09e926b data-v-6d69ae80>æœ€è¿‘æ›´æ–°æ—¶é—´: <time datetime="2025-10-11T15:22:18.000Z" data-v-6d69ae80></time></p></div></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-cea06753 data-v-b953a28e><div class="container" data-v-b953a28e><p class="message" data-v-b953a28e><a href="https://github.com/Justin3go/justin3go.github.io" target="_blank">ç½‘ç«™å·²å¼€æºï¼Œæ¯å‘¨æœ«å¦‚æœ‰æ›´æ–°releaseä¸€æ¬¡ï¼Œæ¬¢è¿star</a></p><p class="copyright" data-v-b953a28e><a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank">CopyrightÂ© 2021-present æ¸ICPå¤‡2021006879å·</a></p></div></footer><!--[--><div class="music-player" style="" data-v-ce3c6c27><div class="mini-player" data-v-ce3c6c27><div class="mini-info" data-v-ce3c6c27><img src="/music/covers/jiuwanzi.jpg" alt="ä¹ä¸‡å­—" class="mini-cover" data-v-ce3c6c27><div class="mini-text" data-v-ce3c6c27><div class="mini-title" data-v-ce3c6c27>ä¹ä¸‡å­—</div><div class="mini-artist" data-v-ce3c6c27>é»„è¯—æ‰¶</div></div></div><div class="mini-controls" data-v-ce3c6c27><button class="mini-play-btn" data-v-ce3c6c27><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-v-ce3c6c27><path d="M8 5v14l11-7z" data-v-ce3c6c27></path></svg></button><button class="expand-btn" data-v-ce3c6c27><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-v-ce3c6c27><path d="M7 14l5-5 5 5z" data-v-ce3c6c27></path></svg></button></div></div><!----><audio preload="metadata" playbackRate="1" data-v-ce3c6c27></audio></div><!--]--></div><div class="music-player" style="" data-v-ce3c6c27><div class="mini-player" data-v-ce3c6c27><div class="mini-info" data-v-ce3c6c27><img src="/music/covers/jiuwanzi.jpg" alt="ä¹ä¸‡å­—" class="mini-cover" data-v-ce3c6c27><div class="mini-text" data-v-ce3c6c27><div class="mini-title" data-v-ce3c6c27>ä¹ä¸‡å­—</div><div class="mini-artist" data-v-ce3c6c27>é»„è¯—æ‰¶</div></div></div><div class="mini-controls" data-v-ce3c6c27><button class="mini-play-btn" data-v-ce3c6c27><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-v-ce3c6c27><path d="M8 5v14l11-7z" data-v-ce3c6c27></path></svg></button><button class="expand-btn" data-v-ce3c6c27><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-v-ce3c6c27><path d="M7 14l5-5 5 5z" data-v-ce3c6c27></path></svg></button></div></div><!----><audio preload="metadata" playbackRate="1" data-v-ce3c6c27></audio></div><!--]--></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"aiä¸­æ–‡_01javaè¿·å®«.md\":\"aJVj8cyu\",\"aiä¸­æ–‡_ai-local-painting.md\":\"Bmx_lr-q\",\"features_index.md\":\"L13OmBZ7\",\"features_stickywall.md\":\"CAipHd6W\",\"features_test.md\":\"px7AhiX_\",\"index.md\":\"CKSrXb4b\",\"pages_posts.md\":\"Bg-khm-i\",\"pages_tags.md\":\"DjceZ_v-\",\"åšå®¢_2020_01javaè¿·å®«.md\":\"CYDW-hmD\",\"åšå®¢_2020_02ä½¿ç”¨anacondaä¸­çš„prompté…ç½®è™šæ‹Ÿç¯å¢ƒçš„å¸¸ç”¨å‘½ä»¤.md\":\"DNExZ6DZ\",\"åšå®¢_2020_index.md\":\"3nnIAxov\",\"åšå®¢_2021_01scrapyçˆ¬è™«è¯¦è§£.md\":\"BDCGjp6t\",\"åšå®¢_2021_02tfidfè®¡ç®—çš„å­¦ä¹ .md\":\"BITAZMi6\",\"åšå®¢_2021_03æ“ä½œç³»ç»Ÿå†…å­˜åˆ†é…æ¨¡æ‹Ÿç¨‹åº.md\":\"CUngVEMK\",\"åšå®¢_2021_04æ•£åˆ—è¡¨å®ç°æŸ¥æ‰¾.md\":\"DoeRB8Dv\",\"åšå®¢_2021_index.md\":\"BerkiPyU\",\"åšå®¢_2022_01éƒ½2022å¹´äº†ï¼Œè¿˜æ˜¯å¾—å­¦åœ£æ¯å¸ƒå±€ä¸åŒé£ç¿¼å¸ƒå±€.md\":\"ICrx9QU8\",\"åšå®¢_2022_02typescriptå…¥é—¨.md\":\"C20Ok9Ie\",\"åšå®¢_2022_03è¿™é“é¢˜åŸæ¥å¯ä»¥ç”¨åˆ°jsè¿™ä¹ˆå¤šçŸ¥è¯†ç‚¹ï¼.md\":\"DsaGvC0H\",\"åšå®¢_2022_04gitå¸¸ç”¨æ“ä½œ.md\":\"goSHcAhi\",\"åšå®¢_2022_05å‰ç«¯ç¨‹åºå‘˜æ­å»ºè‡ªå·±çš„codeideï¼ˆcode-serveræ•™ç¨‹ï¼‰.md\":\"DnFUmYY5\",\"åšå®¢_2022_06ç©è½¬vitepress.md\":\"DJvq_jUK\",\"åšå®¢_2022_07intersectionobserverå®ç°æ¨ªç«–æ»šåŠ¨è‡ªé€‚åº”æ‡’åŠ è½½.md\":\"BYv4rQVd\",\"åšå®¢_2022_08å‰ç«¯æ„å»ºçš„å­¦ä¹ (åå‘vite).md\":\"Crxet5Z4\",\"åšå®¢_2022_09nodeæ¨¡å—è§„èŒƒåŠæ¨¡å—åŠ è½½æœºåˆ¶.md\":\"CLhm7P97\",\"åšå®¢_2022_10nodeå¼‚æ­¥å®ç°ä¸äº‹ä»¶é©±åŠ¨.md\":\"C6C7tLCN\",\"åšå®¢_2022_11nodeå†…å­˜æ§åˆ¶.md\":\"DYzhpmsu\",\"åšå®¢_2022_12nodeè¿›ç¨‹åŠé›†ç¾¤ç›¸å…³.md\":\"DoRM2qg6\",\"åšå®¢_2022_13cdnå®è·µé…ç½®_åŸç†ç¯‡.md\":\"DNg6uuyY\",\"åšå®¢_2022_14è¶…è¯¦ç»†çš„å‰ç«¯ç¨‹åºå‘˜gitæŒ‡åŒ—.md\":\"DY2GOJFV\",\"åšå®¢_2022_15javascriptåŸºç¡€-replaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°.md\":\"Bsd_kZoF\",\"åšå®¢_2022_16è·å–objectçš„ç¬¬ä¸€ä¸ªå…ƒç´ .md\":\"BHGC-J-R\",\"åšå®¢_2022_index.md\":\"q1ke0g-0\",\"åšå®¢_2023_01_02javascriptä¸“é¢˜-åŸå‹é“¾.md\":\"CFUctXoj\",\"åšå®¢_2023_01_08javascriptä¸“é¢˜-ç»§æ‰¿.md\":\"Czw0Ftt3\",\"åšå®¢_2023_01_25æµ…è°ˆnestjsè®¾è®¡æ€æƒ³.md\":\"CnQazjaS\",\"åšå®¢_2023_01_28äº†è§£apiç›¸å…³èŒƒå¼(rpcã€restã€graphql).md\":\"DFbZ7_9d\",\"åšå®¢_2023_02_04vue3ç›¸å…³åŸç†æ¢³ç†.md\":\"runBj7WX\",\"åšå®¢_2023_02_17èŠèŠæºç­–ç•¥é™åˆ¶ajaxè¯·æ±‚.md\":\"BrSpgdF1\",\"åšå®¢_2023_02_19æ”¾å¼ƒcookie-sessionï¼Œæ‹¥æŠ±jwtï¼Ÿ.md\":\"TrvunuTh\",\"åšå®¢_2023_02_23ä½ å¯èƒ½å¿½ç•¥çš„10ç§javascriptå¿«ä¹å†™æ³•.md\":\"A3frSn6v\",\"åšå®¢_2023_03_06ä¸‰ä¸ªç»å…¸çš„typescriptæ˜“æ··æ·†ç‚¹.md\":\"CfIAO2mY\",\"åšå®¢_2023_03_22èŠèŠå‰åç«¯åˆ†ç¦»(å†å²ã€èŒè´£åˆ’åˆ†ã€æœªæ¥å‘å±•).md\":\"DmGDrUMe\",\"åšå®¢_2023_03_29å‰ç«¯è‡ªç»™è‡ªè¶³uiè®¾è®¡ç¨¿.md\":\"Dx7h00xw\",\"åšå®¢_2023_03_31æç®€åœ°ç»™ä¸ªäººåšå®¢æ·»åŠ è®¢é˜…åŠŸèƒ½.md\":\"BAN0Itxe\",\"åšå®¢_2023_04_05å®ç°å¾®ä¿¡å°ç¨‹åº(uniapp)ä¸Šä¼ å¤´åƒè‡³é˜¿é‡Œäº‘oss.md\":\"Cug9-DWj\",\"åšå®¢_2023_04_17æˆ‘ç»ˆäºä¼šç”¨dockeräº†(nest_prisma_psotgresql_nginx_https).md\":\"BeFs2jmJ\",\"åšå®¢_2023_04_20vue3_ts(uniapp)æ‰‹æ’¸ä¸€ä¸ªèŠå¤©é¡µé¢.md\":\"Cyj5ecds\",\"åšå®¢_2023_04_23nestå¦‚ä½•å®ç°å¸¦èº«ä»½éªŒè¯çš„graphqlè®¢é˜…subscription.md\":\"BWfEiuLy\",\"åšå®¢_2023_04_26è¯•ä¸‹å¾®è°ƒgpt-3åšä¸€ä¸ªå¿ƒç†é—®ç­”æœºå™¨äºº.md\":\"Dkk_Jv3N\",\"åšå®¢_2023_05_01nestçš„testä¸­çš„bestæ˜¯jestæ¡†æ¶.md\":\"DRukITsP\",\"åšå®¢_2023_05_07ä¸¤ä¸ªå¤šæœˆæ£é¼“äº†ä¸€ä¸ªå¥åº·ç±»å°ç¨‹åº.md\":\"B7PA0aMk\",\"åšå®¢_2023_05_09pixijså¿«é€Ÿä¸€è§ˆ.md\":\"CwjGEfzG\",\"åšå®¢_2023_05_11è¯¥ç»™ç³»ç»ŸåŠ å“ªä¸€ä¸ªæƒé™æ§åˆ¶æ¨¡å‹å‘¢.md\":\"BvGkfzdh\",\"åšå®¢_2023_06_06ç®€å•ä¼˜åŒ–ä¸‹ä¸ªäººåšå®¢é¦–é¡µ(è¿ç§»vitepress-betaç‰ˆ).md\":\"DR7BsU5F\",\"åšå®¢_2023_06_18vitepressåšå®¢é‡Œå¢åŠ ä¸€ä¸ªrssè®¢é˜….md\":\"CY-tmaL5\",\"åšå®¢_2023_07_02å‰ç«¯åŒtokenç­–ç•¥(uniapp-vue3-tsç‰ˆ).md\":\"iAcEIDEr\",\"åšå®¢_2023_07_26(è¯‘)é¢å‘javascriptå¼€å‘äººå‘˜çš„dockerç®€ä»‹ï¼ˆnode.js å’Œ postgresqlï¼‰.md\":\"fXz3RY7d\",\"åšå®¢_2023_08_17æµ…è°ˆæœç´¢å¼•æ“åŸç†.md\":\"emYPhcnZ\",\"åšå®¢_2023_08_18ç»™vitepresså¢åŠ çŸ­é“¾æ¥ç”ŸæˆåŠŸèƒ½.md\":\"9CRURlfP\",\"åšå®¢_2023_08_22webæ¶æ„jamstackâ€œä»¥åŠ¨åˆ¶é™â€.md\":\"mlGMYeek\",\"åšå®¢_2023_08_29ä½ æ¥ä½ ä¹Ÿå¯ä»¥åšä¸€ä¸ªç½‘ç›˜æœç´¢å¼•æ“.md\":\"BDVUkyxb\",\"åšå®¢_2023_08_31åŸæ¥vueè¿˜æœ‰è¿™ä¹ˆå¤šå¥½ç”¨çš„uiåº“.md\":\"v1HY9FSS\",\"åšå®¢_2023_09_28vitepressä¸­å¢åŠ twitterå¡ç‰‡.md\":\"ptYv_b4P\",\"åšå®¢_2023_09_29vitepressä¸­å¼•å…¥tdesignå¹¶å…¨å±€å¢åŠ å¤§å›¾é¢„è§ˆ.md\":\"Wj-cuwMa\",\"åšå®¢_2023_09_29è‡ªæ‰˜ç®¡é¡¹ç›®å·¥å…·planeç®¡ç†è‡ªå·±çš„todolist.md\":\"B9ABjIC4\",\"åšå®¢_2023_11_01æä¸ªåŸŸåé‚®ç®±ç©ç©ï¼ˆå¦‚just@justin3go.comï¼‰.md\":\"CjME94Jh\",\"åšå®¢_2023_11_08çœ‹çœ‹openaiå‘å¸ƒä¼š.md\":\"DAd3y89g\",\"åšå®¢_2023_11_14åœ¨uniappä¸­ä½¿ç”¨graphqlçš„ä¸€äº›æ¢ç´¢.md\":\"ChehKRkp\",\"åšå®¢_2023_11_29æ¸¸æ ‡åˆ†é¡µè¾ƒä¼ ç»Ÿåˆ†é¡µçš„ä¼˜åŠ¿ä»¥åŠè¯¦ç»†å®ç°.md\":\"C0YMe4fz\",\"åšå®¢_2023_12_11è‚¡ç¥¨åŸºé‡‘å¸¸ç”¨æŒ‡æ ‡ã€æ–¹æ³•è§£é‡Š.md\":\"CRq5MWrG\",\"åšå®¢_2024_01_03å¤©å†·äº†ï¼Œç¬”è®°æœ¬ä¹Ÿéœ€è¦ä¿æš–äº†.md\":\"DJVHOjqY\",\"åšå®¢_2024_01_12å†™ä¸ªdocker_nginxéƒ¨httpsçš„æ¨¡æ¿.md\":\"i0SVwP_m\",\"åšå®¢_2024_01_26nuxt3æ‰‹å†™ä¸€ä¸ªæœç´¢é¡µé¢.md\":\"C5eYExXD\",\"åšå®¢_2024_02_18åˆä¸€æ¬¡å¼€å§‹å­¦è‹±è¯­äº†ï¼Œå¸Œæœ›è¿™æ¬¡èƒ½äº«å—å®ƒ.md\":\"BazE4yvE\",\"åšå®¢_2024_04_18æœ€è¿‘gptå¸®æˆ‘è§£å†³çš„30ä¸ªé—®é¢˜.md\":\"DO5agdMv\",\"åšå®¢_2024_04_28å¦‚ä½•è®¨å¥½è¯»è€…æˆ–è§‚ä¼—.md\":\"B4IDTbOV\",\"åšå®¢_index.md\":\"D36zromL\",\"ç¬”è®°_houduan_01django.md\":\"OaT8qgxu\",\"ç¬”è®°_houduan_index.md\":\"CQBo0iuV\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CH\",\"dir\":\"ltr\",\"title\":\"å¼ ä¿Šæ°çš„åšå®¢\",\"titleTemplate\":\":title-å¼ ä¿Šæ°çš„åšå®¢\",\"description\":\"åšæŒæ·±è€•æŠ€æœ¯é¢†åŸŸçš„Tå‹å‰ç«¯ç¨‹åºå‘˜, å–œæ¬¢Vuejsã€Nestjs, è¿˜ä¼šç‚¹pythonã€nlpã€web3ã€åç«¯\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"outline\":[2,4],\"outlineTitle\":\"å¤§çº²\",\"lastUpdatedText\":\"æœ€è¿‘æ›´æ–°æ—¶é—´\",\"nav\":[{\"text\":\"é¦–é¡µ\",\"link\":\"/\"},{\"text\":\"åšå®¢\",\"link\":\"/åšå®¢/\",\"activeMatch\":\"/åšå®¢/\"},{\"text\":\"ç¬”è®°\",\"link\":\"/ç¬”è®°/\",\"activeMatch\":\"/ç¬”è®°/\"},{\"text\":\"æ ‡ç­¾\",\"link\":\"/pages/tags\",\"activeMatch\":\"/pages/tags\"},{\"text\":\"å½’æ¡£\",\"link\":\"/pages/posts\",\"activeMatch\":\"/pages/posts\"},{\"text\":\"çº¿ä¸Š\",\"activeMatch\":\"/çº¿ä¸Š/\",\"items\":[{\"text\":\"è‡ªå»ºé¡¹ç›®\",\"items\":[{\"text\":\"ç¬‘å‹å°ç¨‹åº\",\"link\":\"https://oss.justin3go.com/blogs/xiaoyou-mp-code.png\"},{\"text\":\"é˜¿é‡Œäº‘ç›˜æœç´¢\",\"link\":\"https://ssgo.app\"},{\"text\":\"Use Sora\",\"link\":\"https://usesora.app\"},{\"text\":\"Excel2JSON\",\"link\":\"https://bug404.dev\"}]},{\"text\":\"å¼€æºéƒ¨ç½²\",\"items\":[{\"text\":\"ChatGPT-Web\",\"link\":\"https://chat.justin3go.com/\"},{\"text\":\"LobeChat\",\"link\":\"https://chatc.app\"}]}]}],\"sidebar\":[{\"text\":\"post\",\"items\":[{\"text\":\"aiä¸­æ–‡\",\"items\":[{\"text\":\"Javaè¿·å®«\",\"link\":\"/post/aiä¸­æ–‡/01Javaè¿·å®«\"},{\"text\":\"AI ä½œç”»æœ¬åœ°æ­å»º\",\"link\":\"/post/aiä¸­æ–‡/ai-local-painting\"}],\"collapsed\":false}],\"collapsed\":false},{\"text\":\"åšå®¢\",\"items\":[{\"text\":\"2020\",\"items\":[{\"text\":\"01Javaè¿·å®«\",\"link\":\"/åšå®¢/2020/01Javaè¿·å®«\"},{\"text\":\"02ä½¿ç”¨anacondaä¸­çš„Prompté…ç½®è™šæ‹Ÿç¯å¢ƒçš„å¸¸ç”¨å‘½ä»¤\",\"link\":\"/åšå®¢/2020/02ä½¿ç”¨anacondaä¸­çš„Prompté…ç½®è™šæ‹Ÿç¯å¢ƒçš„å¸¸ç”¨å‘½ä»¤\"}],\"collapsed\":false},{\"text\":\"2021\",\"items\":[{\"text\":\"01scrapyçˆ¬è™«è¯¦è§£\",\"link\":\"/åšå®¢/2021/01scrapyçˆ¬è™«è¯¦è§£\"},{\"text\":\"02TFIDFè®¡ç®—çš„å­¦ä¹ \",\"link\":\"/åšå®¢/2021/02TFIDFè®¡ç®—çš„å­¦ä¹ \"},{\"text\":\"03æ“ä½œç³»ç»Ÿå†…å­˜åˆ†é…æ¨¡æ‹Ÿç¨‹åº\",\"link\":\"/åšå®¢/2021/03æ“ä½œç³»ç»Ÿå†…å­˜åˆ†é…æ¨¡æ‹Ÿç¨‹åº\"},{\"text\":\"04æ•£åˆ—è¡¨å®ç°æŸ¥æ‰¾\",\"link\":\"/åšå®¢/2021/04æ•£åˆ—è¡¨å®ç°æŸ¥æ‰¾\"}],\"collapsed\":false},{\"text\":\"2022\",\"items\":[{\"text\":\"01éƒ½2022å¹´äº†ï¼Œè¿˜æ˜¯å¾—å­¦åœ£æ¯å¸ƒå±€ä¸åŒé£ç¿¼å¸ƒå±€\",\"link\":\"/åšå®¢/2022/01éƒ½2022å¹´äº†ï¼Œè¿˜æ˜¯å¾—å­¦åœ£æ¯å¸ƒå±€ä¸åŒé£ç¿¼å¸ƒå±€\"},{\"text\":\"02TypeScriptå…¥é—¨\",\"link\":\"/åšå®¢/2022/02TypeScriptå…¥é—¨\"},{\"text\":\"03è¿™é“é¢˜åŸæ¥å¯ä»¥ç”¨åˆ°JSè¿™ä¹ˆå¤šçŸ¥è¯†ç‚¹ï¼\",\"link\":\"/åšå®¢/2022/03è¿™é“é¢˜åŸæ¥å¯ä»¥ç”¨åˆ°JSè¿™ä¹ˆå¤šçŸ¥è¯†ç‚¹ï¼\"},{\"text\":\"04gitå¸¸ç”¨æ“ä½œ\",\"link\":\"/åšå®¢/2022/04gitå¸¸ç”¨æ“ä½œ\"},{\"text\":\"05å‰ç«¯ç¨‹åºå‘˜æ­å»ºè‡ªå·±çš„CodeIDEï¼ˆcode-serveræ•™ç¨‹ï¼‰\",\"link\":\"/åšå®¢/2022/05å‰ç«¯ç¨‹åºå‘˜æ­å»ºè‡ªå·±çš„CodeIDEï¼ˆcode-serveræ•™ç¨‹ï¼‰\"},{\"text\":\"06ç©è½¬vitepress\",\"link\":\"/åšå®¢/2022/06ç©è½¬vitepress\"},{\"text\":\"07IntersectionObserverå®ç°æ¨ªç«–æ»šåŠ¨è‡ªé€‚åº”æ‡’åŠ è½½\",\"link\":\"/åšå®¢/2022/07IntersectionObserverå®ç°æ¨ªç«–æ»šåŠ¨è‡ªé€‚åº”æ‡’åŠ è½½\"},{\"text\":\"08å‰ç«¯æ„å»ºçš„å­¦ä¹ (åå‘vite)\",\"link\":\"/åšå®¢/2022/08å‰ç«¯æ„å»ºçš„å­¦ä¹ (åå‘vite)\"},{\"text\":\"09Nodeæ¨¡å—è§„èŒƒåŠæ¨¡å—åŠ è½½æœºåˆ¶\",\"link\":\"/åšå®¢/2022/09Nodeæ¨¡å—è§„èŒƒåŠæ¨¡å—åŠ è½½æœºåˆ¶\"},{\"text\":\"10Nodeå¼‚æ­¥å®ç°ä¸äº‹ä»¶é©±åŠ¨\",\"link\":\"/åšå®¢/2022/10Nodeå¼‚æ­¥å®ç°ä¸äº‹ä»¶é©±åŠ¨\"},{\"text\":\"11Nodeå†…å­˜æ§åˆ¶\",\"link\":\"/åšå®¢/2022/11Nodeå†…å­˜æ§åˆ¶\"},{\"text\":\"12Nodeè¿›ç¨‹åŠé›†ç¾¤ç›¸å…³\",\"link\":\"/åšå®¢/2022/12Nodeè¿›ç¨‹åŠé›†ç¾¤ç›¸å…³\"},{\"text\":\"13CDNå®è·µé…ç½®+åŸç†ç¯‡\",\"link\":\"/åšå®¢/2022/13CDNå®è·µé…ç½®+åŸç†ç¯‡\"},{\"text\":\"14è¶…è¯¦ç»†çš„å‰ç«¯ç¨‹åºå‘˜gitæŒ‡åŒ—\",\"link\":\"/åšå®¢/2022/14è¶…è¯¦ç»†çš„å‰ç«¯ç¨‹åºå‘˜gitæŒ‡åŒ—\"},{\"text\":\"15JavaScriptåŸºç¡€-replaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°\",\"link\":\"/åšå®¢/2022/15JavaScriptåŸºç¡€-replaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°\"},{\"text\":\"16è·å–Objectçš„ç¬¬ä¸€ä¸ªå…ƒç´ \",\"link\":\"/åšå®¢/2022/16è·å–Objectçš„ç¬¬ä¸€ä¸ªå…ƒç´ \"}],\"collapsed\":false},{\"text\":\"2023\",\"items\":[{\"text\":\"01\",\"items\":[{\"text\":\"02JavaScriptä¸“é¢˜-åŸå‹é“¾\",\"link\":\"/åšå®¢/2023/01/02JavaScriptä¸“é¢˜-åŸå‹é“¾\"},{\"text\":\"08JavaScriptä¸“é¢˜-ç»§æ‰¿\",\"link\":\"/åšå®¢/2023/01/08JavaScriptä¸“é¢˜-ç»§æ‰¿\"},{\"text\":\"25æµ…è°ˆNestJSè®¾è®¡æ€æƒ³\",\"link\":\"/åšå®¢/2023/01/25æµ…è°ˆNestJSè®¾è®¡æ€æƒ³\"},{\"text\":\"28äº†è§£APIç›¸å…³èŒƒå¼(RPCã€RESTã€GraphQL)\",\"link\":\"/åšå®¢/2023/01/28äº†è§£APIç›¸å…³èŒƒå¼(RPCã€RESTã€GraphQL)\"}],\"collapsed\":true},{\"text\":\"02\",\"items\":[{\"text\":\"04Vue3ç›¸å…³åŸç†æ¢³ç†\",\"link\":\"/åšå®¢/2023/02/04Vue3ç›¸å…³åŸç†æ¢³ç†\"},{\"text\":\"17èŠèŠæºç­–ç•¥é™åˆ¶AJAXè¯·æ±‚\",\"link\":\"/åšå®¢/2023/02/17èŠèŠæºç­–ç•¥é™åˆ¶AJAXè¯·æ±‚\"},{\"text\":\"19æ”¾å¼ƒCookie-Sessionï¼Œæ‹¥æŠ±JWTï¼Ÿ\",\"link\":\"/åšå®¢/2023/02/19æ”¾å¼ƒCookie-Sessionï¼Œæ‹¥æŠ±JWTï¼Ÿ\"},{\"text\":\"23ä½ å¯èƒ½å¿½ç•¥çš„10ç§JavaScriptå¿«ä¹å†™æ³•\",\"link\":\"/åšå®¢/2023/02/23ä½ å¯èƒ½å¿½ç•¥çš„10ç§JavaScriptå¿«ä¹å†™æ³•\"}],\"collapsed\":true},{\"text\":\"03\",\"items\":[{\"text\":\"06ä¸‰ä¸ªç»å…¸çš„TypeScriptæ˜“æ··æ·†ç‚¹\",\"link\":\"/åšå®¢/2023/03/06ä¸‰ä¸ªç»å…¸çš„TypeScriptæ˜“æ··æ·†ç‚¹\"},{\"text\":\"22èŠèŠå‰åç«¯åˆ†ç¦»(å†å²ã€èŒè´£åˆ’åˆ†ã€æœªæ¥å‘å±•)\",\"link\":\"/åšå®¢/2023/03/22èŠèŠå‰åç«¯åˆ†ç¦»(å†å²ã€èŒè´£åˆ’åˆ†ã€æœªæ¥å‘å±•)\"},{\"text\":\"29å‰ç«¯è‡ªç»™è‡ªè¶³UIè®¾è®¡ç¨¿\",\"link\":\"/åšå®¢/2023/03/29å‰ç«¯è‡ªç»™è‡ªè¶³UIè®¾è®¡ç¨¿\"},{\"text\":\"31æç®€åœ°ç»™ä¸ªäººåšå®¢æ·»åŠ è®¢é˜…åŠŸèƒ½\",\"link\":\"/åšå®¢/2023/03/31æç®€åœ°ç»™ä¸ªäººåšå®¢æ·»åŠ è®¢é˜…åŠŸèƒ½\"}],\"collapsed\":true},{\"text\":\"04\",\"items\":[{\"text\":\"05å®ç°å¾®ä¿¡å°ç¨‹åº(uniapp)ä¸Šä¼ å¤´åƒè‡³é˜¿é‡Œäº‘oss\",\"link\":\"/åšå®¢/2023/04/05å®ç°å¾®ä¿¡å°ç¨‹åº(uniapp)ä¸Šä¼ å¤´åƒè‡³é˜¿é‡Œäº‘oss\"},{\"text\":\"17æˆ‘ç»ˆäºä¼šç”¨Dockeräº†(nest+prisma+psotgresql+nginx+https)\",\"link\":\"/åšå®¢/2023/04/17æˆ‘ç»ˆäºä¼šç”¨Dockeräº†(nest+prisma+psotgresql+nginx+https)\"},{\"text\":\"20Vue3+TS(uniapp)æ‰‹æ’¸ä¸€ä¸ªèŠå¤©é¡µé¢\",\"link\":\"/åšå®¢/2023/04/20Vue3+TS(uniapp)æ‰‹æ’¸ä¸€ä¸ªèŠå¤©é¡µé¢\"},{\"text\":\"23Nestå¦‚ä½•å®ç°å¸¦èº«ä»½éªŒè¯çš„GraphQLè®¢é˜…Subscription\",\"link\":\"/åšå®¢/2023/04/23Nestå¦‚ä½•å®ç°å¸¦èº«ä»½éªŒè¯çš„GraphQLè®¢é˜…Subscription\"},{\"text\":\"26è¯•ä¸‹å¾®è°ƒGPT-3åšä¸€ä¸ªå¿ƒç†é—®ç­”æœºå™¨äºº\",\"link\":\"/åšå®¢/2023/04/26è¯•ä¸‹å¾®è°ƒGPT-3åšä¸€ä¸ªå¿ƒç†é—®ç­”æœºå™¨äºº\"}],\"collapsed\":true},{\"text\":\"05\",\"items\":[{\"text\":\"01Nestçš„testä¸­çš„bestæ˜¯Jestæ¡†æ¶\",\"link\":\"/åšå®¢/2023/05/01Nestçš„testä¸­çš„bestæ˜¯Jestæ¡†æ¶\"},{\"text\":\"07ä¸¤ä¸ªå¤šæœˆæ£é¼“äº†ä¸€ä¸ªå¥åº·ç±»å°ç¨‹åº\",\"link\":\"/åšå®¢/2023/05/07ä¸¤ä¸ªå¤šæœˆæ£é¼“äº†ä¸€ä¸ªå¥åº·ç±»å°ç¨‹åº\"},{\"text\":\"09PIXIJSå¿«é€Ÿä¸€è§ˆ\",\"link\":\"/åšå®¢/2023/05/09PIXIJSå¿«é€Ÿä¸€è§ˆ\"},{\"text\":\"11è¯¥ç»™ç³»ç»ŸåŠ å“ªä¸€ä¸ªæƒé™æ§åˆ¶æ¨¡å‹å‘¢\",\"link\":\"/åšå®¢/2023/05/11è¯¥ç»™ç³»ç»ŸåŠ å“ªä¸€ä¸ªæƒé™æ§åˆ¶æ¨¡å‹å‘¢\"}],\"collapsed\":true},{\"text\":\"06\",\"items\":[{\"text\":\"06ç®€å•ä¼˜åŒ–ä¸‹ä¸ªäººåšå®¢é¦–é¡µ(è¿ç§»vitepress-betaç‰ˆ)\",\"link\":\"/åšå®¢/2023/06/06ç®€å•ä¼˜åŒ–ä¸‹ä¸ªäººåšå®¢é¦–é¡µ(è¿ç§»vitepress-betaç‰ˆ)\"},{\"text\":\"18vitepressåšå®¢é‡Œå¢åŠ ä¸€ä¸ªRSSè®¢é˜…\",\"link\":\"/åšå®¢/2023/06/18vitepressåšå®¢é‡Œå¢åŠ ä¸€ä¸ªRSSè®¢é˜…\"}],\"collapsed\":true},{\"text\":\"07\",\"items\":[{\"text\":\"02å‰ç«¯åŒtokenç­–ç•¥(uniapp-vue3-tsç‰ˆ)\",\"link\":\"/åšå®¢/2023/07/02å‰ç«¯åŒtokenç­–ç•¥(uniapp-vue3-tsç‰ˆ)\"},{\"text\":\"26(è¯‘)é¢å‘JavaScriptå¼€å‘äººå‘˜çš„Dockerç®€ä»‹ï¼ˆNode.js å’Œ PostgreSQLï¼‰\",\"link\":\"/åšå®¢/2023/07/26(è¯‘)é¢å‘JavaScriptå¼€å‘äººå‘˜çš„Dockerç®€ä»‹ï¼ˆNode.js å’Œ PostgreSQLï¼‰\"}],\"collapsed\":true},{\"text\":\"08\",\"items\":[{\"text\":\"17æµ…è°ˆæœç´¢å¼•æ“åŸç†\",\"link\":\"/åšå®¢/2023/08/17æµ…è°ˆæœç´¢å¼•æ“åŸç†\"},{\"text\":\"18ç»™vitepresså¢åŠ çŸ­é“¾æ¥ç”ŸæˆåŠŸèƒ½\",\"link\":\"/åšå®¢/2023/08/18ç»™vitepresså¢åŠ çŸ­é“¾æ¥ç”ŸæˆåŠŸèƒ½\"},{\"text\":\"22Webæ¶æ„JAMStackâ€œä»¥åŠ¨åˆ¶é™â€\",\"link\":\"/åšå®¢/2023/08/22Webæ¶æ„JAMStackâ€œä»¥åŠ¨åˆ¶é™â€\"},{\"text\":\"29ä½ æ¥ä½ ä¹Ÿå¯ä»¥åšä¸€ä¸ªç½‘ç›˜æœç´¢å¼•æ“\",\"link\":\"/åšå®¢/2023/08/29ä½ æ¥ä½ ä¹Ÿå¯ä»¥åšä¸€ä¸ªç½‘ç›˜æœç´¢å¼•æ“\"},{\"text\":\"31åŸæ¥Vueè¿˜æœ‰è¿™ä¹ˆå¤šå¥½ç”¨çš„UIåº“\",\"link\":\"/åšå®¢/2023/08/31åŸæ¥Vueè¿˜æœ‰è¿™ä¹ˆå¤šå¥½ç”¨çš„UIåº“\"}],\"collapsed\":true},{\"text\":\"09\",\"items\":[{\"text\":\"28vitepressä¸­å¢åŠ twitterå¡ç‰‡\",\"link\":\"/åšå®¢/2023/09/28vitepressä¸­å¢åŠ twitterå¡ç‰‡\"},{\"text\":\"29vitepressä¸­å¼•å…¥Tdesignå¹¶å…¨å±€å¢åŠ å¤§å›¾é¢„è§ˆ\",\"link\":\"/åšå®¢/2023/09/29vitepressä¸­å¼•å…¥Tdesignå¹¶å…¨å±€å¢åŠ å¤§å›¾é¢„è§ˆ\"},{\"text\":\"29è‡ªæ‰˜ç®¡é¡¹ç›®å·¥å…·planeç®¡ç†è‡ªå·±çš„TodoList\",\"link\":\"/åšå®¢/2023/09/29è‡ªæ‰˜ç®¡é¡¹ç›®å·¥å…·planeç®¡ç†è‡ªå·±çš„TodoList\"}],\"collapsed\":true},{\"text\":\"11\",\"items\":[{\"text\":\"01æä¸ªåŸŸåé‚®ç®±ç©ç©ï¼ˆå¦‚just@justin3go.comï¼‰\",\"link\":\"/åšå®¢/2023/11/01æä¸ªåŸŸåé‚®ç®±ç©ç©ï¼ˆå¦‚just@justin3go.comï¼‰\"},{\"text\":\"08çœ‹çœ‹openaiå‘å¸ƒä¼š\",\"link\":\"/åšå®¢/2023/11/08çœ‹çœ‹openaiå‘å¸ƒä¼š\"},{\"text\":\"14åœ¨uniappä¸­ä½¿ç”¨GraphQLçš„ä¸€äº›æ¢ç´¢\",\"link\":\"/åšå®¢/2023/11/14åœ¨uniappä¸­ä½¿ç”¨GraphQLçš„ä¸€äº›æ¢ç´¢\"},{\"text\":\"29æ¸¸æ ‡åˆ†é¡µè¾ƒä¼ ç»Ÿåˆ†é¡µçš„ä¼˜åŠ¿ä»¥åŠè¯¦ç»†å®ç°\",\"link\":\"/åšå®¢/2023/11/29æ¸¸æ ‡åˆ†é¡µè¾ƒä¼ ç»Ÿåˆ†é¡µçš„ä¼˜åŠ¿ä»¥åŠè¯¦ç»†å®ç°\"}],\"collapsed\":true},{\"text\":\"12\",\"items\":[{\"text\":\"11è‚¡ç¥¨åŸºé‡‘å¸¸ç”¨æŒ‡æ ‡ã€æ–¹æ³•è§£é‡Š\",\"link\":\"/åšå®¢/2023/12/11è‚¡ç¥¨åŸºé‡‘å¸¸ç”¨æŒ‡æ ‡ã€æ–¹æ³•è§£é‡Š\"}],\"collapsed\":true}],\"collapsed\":false},{\"text\":\"2024\",\"items\":[{\"text\":\"01\",\"items\":[{\"text\":\"03å¤©å†·äº†ï¼Œç¬”è®°æœ¬ä¹Ÿéœ€è¦ä¿æš–äº†\",\"link\":\"/åšå®¢/2024/01/03å¤©å†·äº†ï¼Œç¬”è®°æœ¬ä¹Ÿéœ€è¦ä¿æš–äº†\"},{\"text\":\"12å†™ä¸ªdocker+nginxéƒ¨httpsçš„æ¨¡æ¿\",\"link\":\"/åšå®¢/2024/01/12å†™ä¸ªdocker+nginxéƒ¨httpsçš„æ¨¡æ¿\"},{\"text\":\"26Nuxt3æ‰‹å†™ä¸€ä¸ªæœç´¢é¡µé¢\",\"link\":\"/åšå®¢/2024/01/26Nuxt3æ‰‹å†™ä¸€ä¸ªæœç´¢é¡µé¢\"}],\"collapsed\":true},{\"text\":\"02\",\"items\":[{\"text\":\"18åˆä¸€æ¬¡å¼€å§‹å­¦è‹±è¯­äº†ï¼Œå¸Œæœ›è¿™æ¬¡èƒ½äº«å—å®ƒ\",\"link\":\"/åšå®¢/2024/02/18åˆä¸€æ¬¡å¼€å§‹å­¦è‹±è¯­äº†ï¼Œå¸Œæœ›è¿™æ¬¡èƒ½äº«å—å®ƒ\"}],\"collapsed\":true},{\"text\":\"04\",\"items\":[{\"text\":\"18æœ€è¿‘GPTå¸®æˆ‘è§£å†³çš„30ä¸ªé—®é¢˜\",\"link\":\"/åšå®¢/2024/04/18æœ€è¿‘GPTå¸®æˆ‘è§£å†³çš„30ä¸ªé—®é¢˜\"},{\"text\":\"28å¦‚ä½•è®¨å¥½è¯»è€…æˆ–è§‚ä¼—\",\"link\":\"/åšå®¢/2024/04/28å¦‚ä½•è®¨å¥½è¯»è€…æˆ–è§‚ä¼—\"}],\"collapsed\":true}],\"collapsed\":false}],\"collapsed\":false},{\"text\":\"ç¬”è®°\",\"items\":[{\"text\":\"houduan\",\"items\":[{\"text\":\"Djangoè¿›é˜¶å­¦ä¹ ç¬”è®°\",\"link\":\"/ç¬”è®°/houduan/01Django\"}],\"collapsed\":false}],\"collapsed\":false}],\"logo\":\"/logo.png\",\"siteTitle\":false,\"socialLinks\":[{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"512\\\" height=\\\"512\\\" viewBox=\\\"0 0 512 512\\\"><title>RSSè®¢é˜…</title><path d=\\\"M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z\\\"/><path d=\\\"M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z\\\"/><path d=\\\"M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z\\\"/></svg>\"},\"link\":\"/feed.xml\"}],\"footer\":{\"message\":\"<a href=\\\"https://github.com/Justin3go/justin3go.github.io\\\" target=\\\"_blank\\\">ç½‘ç«™å·²å¼€æºï¼Œæ¯å‘¨æœ«å¦‚æœ‰æ›´æ–°releaseä¸€æ¬¡ï¼Œæ¬¢è¿star</a>\",\"copyright\":\"<a href=\\\"https://beian.miit.gov.cn/#/Integrated/index\\\" target=\\\"_blank\\\">CopyrightÂ© 2021-present æ¸ICPå¤‡2021006879å·</a>\"},\"search\":{\"provider\":\"local\"},\"editLink\":{\"pattern\":\"https://github.com/Justin3go/justin3go.github.io/edit/master/docs/:path\",\"text\":\"åœ¨GitHubä¸Šç¼–è¾‘æ­¤é¡µ\"},\"returnToTopLabel\":\"ğŸ‘†Code is building the world.\",\"sidebarMenuLabel\":\"ç›®å½•\",\"darkModeSwitchLabel\":\"æ·±è‰²æ¨¡å¼\",\"docFooter\":{\"prev\":false,\"next\":false},\"footerConfig\":{\"showFooter\":true,\"showRainbow\":true,\"icpRecordCode\":\"æ´¥ICPå¤‡2022005864å·-2\",\"publicSecurityRecordCode\":\"æ´¥å…¬ç½‘å®‰å¤‡12011202000677å·\",\"copyright\":\"Copyright Â© 2019-2025 Charles7c\"}},\"locales\":{\"root\":{\"label\":\"ç®€ä½“ä¸­æ–‡\"},\"en\":{\"label\":\"English\",\"link\":\"https://en.justin3go.com\"}},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>